<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 12 Basic Wrangling | PSYC193L</title>
<meta name="author" content="Ethan Hurwitz">
<meta name="description" content="library(tidyverse) # Load tidyverse packages  Artwork by Horst (2022)  Throughout this page, explanations for the code above will appear in blocks like this one! When wrangling your data, you will...">
<meta name="generator" content="bookdown 0.24 with bs4_book()">
<meta property="og:title" content="Chapter 12 Basic Wrangling | PSYC193L">
<meta property="og:type" content="book">
<meta property="og:url" content="https://psyc193l.github.io/basic-wrangling.html">
<meta property="og:description" content="library(tidyverse) # Load tidyverse packages  Artwork by Horst (2022)  Throughout this page, explanations for the code above will appear in blocks like this one! When wrangling your data, you will...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 12 Basic Wrangling | PSYC193L">
<meta name="twitter:description" content="library(tidyverse) # Load tidyverse packages  Artwork by Horst (2022)  Throughout this page, explanations for the code above will appear in blocks like this one! When wrangling your data, you will...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/header-attrs-2.11/header-attrs.js"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.3.1.9000/transition.js"></script><script src="libs/bs3compat-0.3.1.9000/tabs.js"></script><script src="libs/bs3compat-0.3.1.9000/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><link rel="stylesheet" href="bs4_style.css">
<link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">PSYC193L</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html"><span class="header-section-number">1</span> Syllabus</a></li>
<li class="book-part">R Basics</li>
<li><a class="" href="why-use-r.html"><span class="header-section-number">2</span> Why use R?</a></li>
<li><a class="" href="r-coding-basics.html"><span class="header-section-number">3</span> R Coding Basics</a></li>
<li><a class="" href="using-r-effectively.html"><span class="header-section-number">4</span> Using R Effectively</a></li>
<li class="book-part">Visualizations</li>
<li><a class="" href="intro-to-ggplot2.html"><span class="header-section-number">5</span> Intro to ggplot2</a></li>
<li><a class="" href="aesthetics.html"><span class="header-section-number">6</span> Aesthetics</a></li>
<li><a class="" href="different-geoms-and-when-to-use-them.html"><span class="header-section-number">7</span> Different Geoms and When To Use Them</a></li>
<li><a class="" href="customization.html"><span class="header-section-number">8</span> Customization</a></li>
<li><a class="" href="color-theory.html"><span class="header-section-number">9</span> Color Theory</a></li>
<li class="book-part">Data Manipulation</li>
<li><a class="" href="control-flow.html"><span class="header-section-number">10</span> Control Flow</a></li>
<li><a class="" href="tidy-data-and-tidyverse.html"><span class="header-section-number">11</span> Tidy Data and Tidyverse</a></li>
<li><a class="active" href="basic-wrangling.html"><span class="header-section-number">12</span> Basic Wrangling</a></li>
<li><a class="" href="advanced-wrangling.html"><span class="header-section-number">13</span> Advanced Wrangling</a></li>
<li><a class="" href="summarizing-data.html"><span class="header-section-number">14</span> Summarizing Data</a></li>
<li><a class="" href="text-cleaning.html"><span class="header-section-number">15</span> Text Cleaning</a></li>
<li><a class="" href="data-transformation.html"><span class="header-section-number">16</span> Data Transformation</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="basic-wrangling" class="section level1" number="12">
<h1>
<span class="header-section-number">12</span> Basic Wrangling<a class="anchor" aria-label="anchor" href="#basic-wrangling"><i class="fas fa-link"></i></a>
</h1>
<div class="sourceCode" id="cb241"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://tidyverse.tidyverse.org">tidyverse</a></span><span class="op">)</span> <span class="co"># Load tidyverse packages</span></code></pre></div>
<!-- <a href="exercises/Exercise_Manip2.Rmd" download>Exercise Sheet</a> -->
<img src="figures/data_cowboy.png" style="width:100.0%"><p style="font-size:6pt">
Artwork by <span class="citation">Horst (2022)</span>
</p>
<div class="rmdimportant">
<p><strong>Throughout this page, explanations for the code above will appear in blocks like this one!</strong></p>
</div>
<p>When wrangling your data, you will be performing a series of actions to clean and prepare it for whatever task you have. Whether you are creating visualizations, performing statistical analyses, or doing anything else, you will likely need to change your data object in some way. Below, several of the most fundamental and basic data manipulation functions will be outlined. You will notice that the function names are all verbs, denoting that they are performing some action on the data object.</p>
<div id="arrange" class="section level2" number="12.1">
<h2>
<span class="header-section-number">12.1</span> Arrange<a class="anchor" aria-label="anchor" href="#arrange"><i class="fas fa-link"></i></a>
</h2>
<p><code><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange()</a></code> orders the rows of a data frame by the values of selected columns. By default this will be ascending, where the lowest values are in the first few rows.</p>
<div class="sourceCode" id="cb242"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mtcars2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="va">wt</span><span class="op">)</span></code></pre></div>
<div class="inline-table"><table class="kable_wrapper"><tbody><tr>
<td>
<table class=" lightable-paper table table-striped table-hover table-condensed table-responsive" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;'>
<thead><tr>
<th style="text-align:left;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
model
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
mpg
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
cyl
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
disp
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
hp
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
wt
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
gear
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;color: white !important;">
Fiat X1-9
</td>
<td style="text-align:right;color: white !important;">
27
</td>
<td style="text-align:right;color: white !important;">
4
</td>
<td style="text-align:right;color: white !important;">
79
</td>
<td style="text-align:right;color: white !important;">
66
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: #FCBBA1 !important;">
1.94
</td>
<td style="text-align:right;color: white !important;">
4
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Porsche 914-2
</td>
<td style="text-align:right;color: white !important;">
26
</td>
<td style="text-align:right;color: white !important;">
4
</td>
<td style="text-align:right;color: white !important;">
120
</td>
<td style="text-align:right;color: white !important;">
91
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: #FC9272 !important;">
2.14
</td>
<td style="text-align:right;color: white !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Lotus Europa
</td>
<td style="text-align:right;color: white !important;">
30
</td>
<td style="text-align:right;color: white !important;">
4
</td>
<td style="text-align:right;color: white !important;">
95
</td>
<td style="text-align:right;color: white !important;">
113
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: #FEE5D9 !important;">
1.51
</td>
<td style="text-align:right;color: white !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Ford Pantera L
</td>
<td style="text-align:right;color: white !important;">
16
</td>
<td style="text-align:right;color: white !important;">
8
</td>
<td style="text-align:right;color: white !important;">
351
</td>
<td style="text-align:right;color: white !important;">
264
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: #CB181D !important;">
3.17
</td>
<td style="text-align:right;color: white !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Ferrari Dino
</td>
<td style="text-align:right;color: white !important;">
20
</td>
<td style="text-align:right;color: white !important;">
6
</td>
<td style="text-align:right;color: white !important;">
145
</td>
<td style="text-align:right;color: white !important;">
175
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: #FB6A4A !important;">
2.77
</td>
<td style="text-align:right;color: white !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Maserati Bora
</td>
<td style="text-align:right;color: white !important;">
15
</td>
<td style="text-align:right;color: white !important;">
8
</td>
<td style="text-align:right;color: white !important;">
301
</td>
<td style="text-align:right;color: white !important;">
335
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: #99000D !important;">
3.57
</td>
<td style="text-align:right;color: white !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Volvo 142E
</td>
<td style="text-align:right;color: white !important;">
21
</td>
<td style="text-align:right;color: white !important;">
4
</td>
<td style="text-align:right;color: white !important;">
121
</td>
<td style="text-align:right;color: white !important;">
109
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: #EF3B2C !important;">
2.78
</td>
<td style="text-align:right;color: white !important;">
4
</td>
</tr>
</tbody>
</table>
</td>
<td>
<table class=" lightable-paper" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;'>
<thead><tr>
<th style="text-align:left;font-size: 0px;">
test
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
<img src="figures/blank.png" width="64" height="32">
</td>
</tr>
<tr>
<td style="text-align:left;">
<img src="figures/blank.png" width="64" height="32">
</td>
</tr>
<tr>
<td style="text-align:left;">
<img src="figures/blank.png" width="64" height="32">
</td>
</tr>
<tr>
<td style="text-align:left;">
<img src="figures/arrow.png" width="64" height="32">
</td>
</tr>
</tbody>
</table>
</td>
<td>
<table class=" lightable-paper table table-striped table-hover table-condensed table-responsive" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;'>
<thead><tr>
<th style="text-align:left;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
model
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
mpg
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
cyl
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
disp
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
hp
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
wt
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
gear
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;color: white !important;">
Lotus Europa
</td>
<td style="text-align:right;color: white !important;">
30
</td>
<td style="text-align:right;color: white !important;">
4
</td>
<td style="text-align:right;color: white !important;">
95
</td>
<td style="text-align:right;color: white !important;">
113
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: #FEE5D9 !important;">
1.51
</td>
<td style="text-align:right;color: white !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Fiat X1-9
</td>
<td style="text-align:right;color: white !important;">
27
</td>
<td style="text-align:right;color: white !important;">
4
</td>
<td style="text-align:right;color: white !important;">
79
</td>
<td style="text-align:right;color: white !important;">
66
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: #FCBBA1 !important;">
1.94
</td>
<td style="text-align:right;color: white !important;">
4
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Porsche 914-2
</td>
<td style="text-align:right;color: white !important;">
26
</td>
<td style="text-align:right;color: white !important;">
4
</td>
<td style="text-align:right;color: white !important;">
120
</td>
<td style="text-align:right;color: white !important;">
91
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: #FC9272 !important;">
2.14
</td>
<td style="text-align:right;color: white !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Ferrari Dino
</td>
<td style="text-align:right;color: white !important;">
20
</td>
<td style="text-align:right;color: white !important;">
6
</td>
<td style="text-align:right;color: white !important;">
145
</td>
<td style="text-align:right;color: white !important;">
175
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: #FB6A4A !important;">
2.77
</td>
<td style="text-align:right;color: white !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Volvo 142E
</td>
<td style="text-align:right;color: white !important;">
21
</td>
<td style="text-align:right;color: white !important;">
4
</td>
<td style="text-align:right;color: white !important;">
121
</td>
<td style="text-align:right;color: white !important;">
109
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: #EF3B2C !important;">
2.78
</td>
<td style="text-align:right;color: white !important;">
4
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Ford Pantera L
</td>
<td style="text-align:right;color: white !important;">
16
</td>
<td style="text-align:right;color: white !important;">
8
</td>
<td style="text-align:right;color: white !important;">
351
</td>
<td style="text-align:right;color: white !important;">
264
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: #CB181D !important;">
3.17
</td>
<td style="text-align:right;color: white !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Maserati Bora
</td>
<td style="text-align:right;color: white !important;">
15
</td>
<td style="text-align:right;color: white !important;">
8
</td>
<td style="text-align:right;color: white !important;">
301
</td>
<td style="text-align:right;color: white !important;">
335
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: #99000D !important;">
3.57
</td>
<td style="text-align:right;color: white !important;">
5
</td>
</tr>
</tbody>
</table>
</td>
</tr></tbody></table></div>
<div class="rmdimportant">
<p><strong>This code changes the order of the rows in <code>mtcars2</code> by the values in the <code>wt</code> column, with the lowest at the top.</strong></p>
</div>
<p>To get rows arranged in a descending order, with highest values at the top, wrap variable names in <code><a href="https://dplyr.tidyverse.org/reference/desc.html">desc()</a></code> within the <code><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange()</a></code> call. If a second column is passed, the rows with identical values on the first variable will be arranged by the values on the second.</p>
<div class="panel panel-success">
<div class="panel-heading">
<strong>EXERCISE 1</strong>
</div>
<div class="panel-body">
<ol style="list-style-type: decimal">
<li>Use <code><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange()</a></code> to order the <code>msleep2</code> dataset by <code>bodywt</code>.<br>
</li>
<li>Modify your <code><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange()</a></code> call to order the <code>bodywt</code> column from greatest to least.<br>
</li>
<li>What is the largest animal recorded in this dataset?
</li>
</ol>
</div>

</div>
</div>
<div id="rename" class="section level2" number="12.2">
<h2>
<span class="header-section-number">12.2</span> Rename<a class="anchor" aria-label="anchor" href="#rename"><i class="fas fa-link"></i></a>
</h2>
<img src="figures/dplyr_rename_new.jpeg" style="width:100.0%"><p style="font-size:6pt">
Artwork by <span class="citation">Horst (2022)</span>
</p>
<p>Columns in a dataframe can be named poorly in several ways. They could have a name that is not meaningful or interpretable, they could have a name that is too long, or they could have a name that includes special characters or is otherwise difficult to work with (e.g., including spaces).</p>
<p>You can rename columns by using the <code><a href="https://dplyr.tidyverse.org/reference/rename.html">rename()</a></code> function. This function takes the following form:</p>
<div class="sourceCode" id="cb243"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html">rename</a></span><span class="op">(</span><span class="st">"new_column_name"</span> <span class="op">=</span> <span class="st">"old_column_name"</span><span class="op">)</span></code></pre></div>
<p>In the <code>mtcars2</code> object, several variable names are shorthand or abbreviations that may not make sense to someone who is not already familiar with the dataset. <code><a href="https://dplyr.tidyverse.org/reference/rename.html">rename()</a></code> can be used to change these:</p>
<div class="sourceCode" id="cb244"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mtcars2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html">rename</a></span><span class="op">(</span><span class="st">"weight"</span> <span class="op">=</span> <span class="st">"wt"</span>, <span class="st">"horse_power"</span> <span class="op">=</span> <span class="st">"hp"</span>,
         <span class="st">"cylinders"</span> <span class="op">=</span> <span class="st">"cyl"</span>, <span class="st">"displacement"</span> <span class="op">=</span> <span class="st">"disp"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt;            model mpg cylinders displacement horse_power</span>
<span class="co">#&gt; 1      Fiat X1-9  27         4           79          66</span>
<span class="co">#&gt; 2  Porsche 914-2  26         4          120          91</span>
<span class="co">#&gt; 3   Lotus Europa  30         4           95         113</span>
<span class="co">#&gt; 4 Ford Pantera L  16         8          351         264</span>
<span class="co">#&gt; 5   Ferrari Dino  20         6          145         175</span>
<span class="co">#&gt; 6  Maserati Bora  15         8          301         335</span>
<span class="co">#&gt;   weight gear</span>
<span class="co">#&gt; 1   1.94    4</span>
<span class="co">#&gt; 2   2.14    5</span>
<span class="co">#&gt; 3   1.51    5</span>
<span class="co">#&gt; 4   3.17    5</span>
<span class="co">#&gt; 5   2.77    5</span>
<span class="co">#&gt; 6   3.57    5</span></code></pre></div>
<p class="text-info">
<strong><u>Note:</u> You do not have to address variables in the order they appear in the df. The variable names will be mapped regardless of their position!</strong>
</p>
<div class="panel panel-success">
<div class="panel-heading">
<strong>EXERCISE 2</strong>
</div>
<div class="panel-body">
Both of the weight columns in this dataset are measuring in kilograms. Use <code><a href="https://dplyr.tidyverse.org/reference/rename.html">rename()</a></code> to give those variables more informative names.
</div>
</div>
<div id="saving-changes" class="section level3" number="12.2.1">
<h3>
<span class="header-section-number">12.2.1</span> Saving Changes<a class="anchor" aria-label="anchor" href="#saving-changes"><i class="fas fa-link"></i></a>
</h3>
<p>The code above using <code><a href="https://dplyr.tidyverse.org/reference/rename.html">rename()</a></code> changed some of the variable names in the <code>mtcars2</code> dataframe. However, if you look at the <code>mtcars2</code> dataframe…</p>
<div class="sourceCode" id="cb245"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mtcars2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt;            model mpg cyl disp  hp   wt gear</span>
<span class="co">#&gt; 1      Fiat X1-9  27   4   79  66 1.94    4</span>
<span class="co">#&gt; 2  Porsche 914-2  26   4  120  91 2.14    5</span>
<span class="co">#&gt; 3   Lotus Europa  30   4   95 113 1.51    5</span>
<span class="co">#&gt; 4 Ford Pantera L  16   8  351 264 3.17    5</span>
<span class="co">#&gt; 5   Ferrari Dino  20   6  145 175 2.77    5</span>
<span class="co">#&gt; 6  Maserati Bora  15   8  301 335 3.57    5</span></code></pre></div>
<p>The variable names are the same as before, the the <code><a href="https://dplyr.tidyverse.org/reference/rename.html">rename()</a></code> code seems like it did not work! Look carefully at the code though:</p>
<div class="sourceCode" id="cb246"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mtcars2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html">rename</a></span><span class="op">(</span><span class="st">"weight"</span> <span class="op">=</span> <span class="st">"wt"</span>, <span class="st">"horse_power"</span> <span class="op">=</span> <span class="st">"hp"</span>,
         <span class="st">"cylinders"</span> <span class="op">=</span> <span class="st">"cyl"</span>, <span class="st">"displacement"</span> <span class="op">=</span> <span class="st">"disp"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="op">)</span></code></pre></div>
<p>When this code is executed it just prints the results. They are not saved anywhere! If you actually wanted to update your dataframe, you need to save these results:</p>
<div class="sourceCode" id="cb247"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mtcars2</span> <span class="op">=</span> <span class="va">mtcars2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html">rename</a></span><span class="op">(</span><span class="st">"weight"</span> <span class="op">=</span> <span class="st">"wt"</span>, <span class="st">"horse_power"</span> <span class="op">=</span> <span class="st">"hp"</span>,
         <span class="st">"cylinders"</span> <span class="op">=</span> <span class="st">"cyl"</span>, <span class="st">"displacement"</span> <span class="op">=</span> <span class="st">"disp"</span><span class="op">)</span></code></pre></div>
<p>Saving over an object is a permanent change, though. You should be very careful when doing so. It is good practice to first make sure the code runs and does what you intend it to do. Once you have verified that, you can overwrite an object if you would like:</p>
<div class="sourceCode" id="cb248"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mtcars2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html">rename</a></span><span class="op">(</span><span class="st">"weight"</span> <span class="op">=</span> <span class="st">"wt"</span>, <span class="st">"horse_power"</span> <span class="op">=</span> <span class="st">"hp"</span>,
         <span class="st">"cylinders"</span> <span class="op">=</span> <span class="st">"cyl"</span>, <span class="st">"displacement"</span> <span class="op">=</span> <span class="st">"disp"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="op">)</span>

<span class="va">mtcars2</span> <span class="op">=</span> <span class="va">mtcars2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html">rename</a></span><span class="op">(</span><span class="st">"weight"</span> <span class="op">=</span> <span class="st">"wt"</span>, <span class="st">"horse_power"</span> <span class="op">=</span> <span class="st">"hp"</span>,
         <span class="st">"cylinders"</span> <span class="op">=</span> <span class="st">"cyl"</span>, <span class="st">"displacement"</span> <span class="op">=</span> <span class="st">"disp"</span><span class="op">)</span></code></pre></div>
<p class="text-info">
<strong><u>Note:</u> <code><a href="https://rdrr.io/r/utils/head.html">head()</a></code> is used here for pedagogical purposes, but in your own code you would only want to use this when testing changes in your data. When modifying your dataframe, you would not want to accidentally overwrite it with only the first 5 rows of your new output!</strong>
</p>
<p>A good rule of thumb is that if you need to use the object in its current state again or make significant changes to it, particularly if you change its structure, you should create a new object (e.g., mtcars3) rather than overwrite/update the existing one.</p>
</div>
</div>
<div id="clean-names" class="section level2" number="12.3">
<h2>
<span class="header-section-number">12.3</span> Clean Names<a class="anchor" aria-label="anchor" href="#clean-names"><i class="fas fa-link"></i></a>
</h2>
<img src="figures/janitor_clean_names.png" style="width:100.0%"><p style="font-size:6pt">
Artwork by <span class="citation">Horst (2022)</span>
</p>
<p>The <code>clean_names()</code> function from the <code>janitor</code> package is a powerful tool to change all your column names at once to a specific naming convention. This can be used to easily convert all variable names to one of the naming conventions mentioned in the <a href="using-r-effectively.html#naming-convention">Coding Best Practices</a> section:</p>
<ul>
<li>snake (snake_case)</li>
<li>lower_camel (lowerCamel)</li>
<li>upper_camel (UpperCamel)</li>
<li>screaming_snake (SCREAMING_SNAKE)</li>
</ul>
<p>As well as many others! You can access a particular function from a package by first specifying the package name, then two colons, then the function name. As demonstrated in the illustration above, using <code><a href="https://rdrr.io/pkg/janitor/man/clean_names.html">janitor::clean_names()</a></code> is saying you want to use the <code>clean_names()</code> function as defined in the <code>janitor</code> package.</p>
<div class="rmdcaution">
<p><strong>Why would you ever want to do this? Well, it is worth recognizing that functions are just variables. Instead of a value, they are defined by a series of code. Two variables of the same name cannot co-exist in your global environment. R would not know which to use! When you define <code>x = 4</code> and then <code>x = 6</code>, the original <code>x = 4</code> is overwritten.</strong></p>
<p><strong>Different packages may use the same variable names for the functions they contain. When you load a package with <code><a href="https://rdrr.io/r/base/library.html">library()</a></code>, that may overwrite some functions loaded by other packages. Thus, you may want to use a function from a particular package, but not load the entire package contents and override other functions!</strong></p>
</div>
</div>
<div id="relocate" class="section level2" number="12.4">
<h2>
<span class="header-section-number">12.4</span> Relocate<a class="anchor" aria-label="anchor" href="#relocate"><i class="fas fa-link"></i></a>
</h2>
<p><code><a href="https://dplyr.tidyverse.org/reference/relocate.html">relocate()</a></code> can be used to reorder the columns in your dataframe. With <code><a href="https://dplyr.tidyverse.org/reference/relocate.html">relocate()</a></code>, you specify which column(s) you want to move, and what they should come <em>.before</em> or <em>.after</em>.</p>
<img src="figures/dplyr_relocate.png" style="width:100.0%"><p style="font-size:6pt">
Artwork by <span class="citation">Horst (2022)</span>
</p>
<div class="sourceCode" id="cb249"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mtcars2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/relocate.html">relocate</a></span><span class="op">(</span><span class="va">wt</span>, .after <span class="op">=</span> <span class="va">model</span><span class="op">)</span></code></pre></div>
<div class="inline-table"><table class="kable_wrapper"><tbody><tr>
<td>
<table class=" lightable-paper table table-striped table-hover table-condensed table-responsive" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;'>
<thead><tr>
<th style="text-align:left;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
model
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
mpg
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
cyl
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
disp
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
hp
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
wt
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
gear
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;color: white !important;">
Fiat X1-9
</td>
<td style="text-align:right;color: white !important;">
27
</td>
<td style="text-align:right;color: white !important;">
4
</td>
<td style="text-align:right;color: white !important;">
79
</td>
<td style="text-align:right;color: white !important;">
66
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: lightgreen !important;">
1.94
</td>
<td style="text-align:right;color: white !important;">
4
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Porsche 914-2
</td>
<td style="text-align:right;color: white !important;">
26
</td>
<td style="text-align:right;color: white !important;">
4
</td>
<td style="text-align:right;color: white !important;">
120
</td>
<td style="text-align:right;color: white !important;">
91
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: lightgreen !important;">
2.14
</td>
<td style="text-align:right;color: white !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Lotus Europa
</td>
<td style="text-align:right;color: white !important;">
30
</td>
<td style="text-align:right;color: white !important;">
4
</td>
<td style="text-align:right;color: white !important;">
95
</td>
<td style="text-align:right;color: white !important;">
113
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: lightgreen !important;">
1.51
</td>
<td style="text-align:right;color: white !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Ford Pantera L
</td>
<td style="text-align:right;color: white !important;">
16
</td>
<td style="text-align:right;color: white !important;">
8
</td>
<td style="text-align:right;color: white !important;">
351
</td>
<td style="text-align:right;color: white !important;">
264
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: lightgreen !important;">
3.17
</td>
<td style="text-align:right;color: white !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Ferrari Dino
</td>
<td style="text-align:right;color: white !important;">
20
</td>
<td style="text-align:right;color: white !important;">
6
</td>
<td style="text-align:right;color: white !important;">
145
</td>
<td style="text-align:right;color: white !important;">
175
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: lightgreen !important;">
2.77
</td>
<td style="text-align:right;color: white !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Maserati Bora
</td>
<td style="text-align:right;color: white !important;">
15
</td>
<td style="text-align:right;color: white !important;">
8
</td>
<td style="text-align:right;color: white !important;">
301
</td>
<td style="text-align:right;color: white !important;">
335
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: lightgreen !important;">
3.57
</td>
<td style="text-align:right;color: white !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Volvo 142E
</td>
<td style="text-align:right;color: white !important;">
21
</td>
<td style="text-align:right;color: white !important;">
4
</td>
<td style="text-align:right;color: white !important;">
121
</td>
<td style="text-align:right;color: white !important;">
109
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: lightgreen !important;">
2.78
</td>
<td style="text-align:right;color: white !important;">
4
</td>
</tr>
</tbody>
</table>
</td>
<td>
<table class=" lightable-paper" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;'>
<thead><tr>
<th style="text-align:left;font-size: 0px;">
test
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
<img src="figures/blank.png" width="64" height="32">
</td>
</tr>
<tr>
<td style="text-align:left;">
<img src="figures/blank.png" width="64" height="32">
</td>
</tr>
<tr>
<td style="text-align:left;">
<img src="figures/blank.png" width="64" height="32">
</td>
</tr>
<tr>
<td style="text-align:left;">
<img src="figures/arrow.png" width="64" height="32">
</td>
</tr>
</tbody>
</table>
</td>
<td>
<table class=" lightable-paper table table-striped table-hover table-condensed table-responsive" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;'>
<thead><tr>
<th style="text-align:left;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
model
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
wt
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
mpg
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
cyl
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
disp
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
hp
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
gear
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;color: white !important;">
Fiat X1-9
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: lightgreen !important;">
1.94
</td>
<td style="text-align:right;color: white !important;">
27
</td>
<td style="text-align:right;color: white !important;">
4
</td>
<td style="text-align:right;color: white !important;">
79
</td>
<td style="text-align:right;color: white !important;">
66
</td>
<td style="text-align:right;color: white !important;">
4
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Porsche 914-2
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: lightgreen !important;">
2.14
</td>
<td style="text-align:right;color: white !important;">
26
</td>
<td style="text-align:right;color: white !important;">
4
</td>
<td style="text-align:right;color: white !important;">
120
</td>
<td style="text-align:right;color: white !important;">
91
</td>
<td style="text-align:right;color: white !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Lotus Europa
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: lightgreen !important;">
1.51
</td>
<td style="text-align:right;color: white !important;">
30
</td>
<td style="text-align:right;color: white !important;">
4
</td>
<td style="text-align:right;color: white !important;">
95
</td>
<td style="text-align:right;color: white !important;">
113
</td>
<td style="text-align:right;color: white !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Ford Pantera L
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: lightgreen !important;">
3.17
</td>
<td style="text-align:right;color: white !important;">
16
</td>
<td style="text-align:right;color: white !important;">
8
</td>
<td style="text-align:right;color: white !important;">
351
</td>
<td style="text-align:right;color: white !important;">
264
</td>
<td style="text-align:right;color: white !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Ferrari Dino
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: lightgreen !important;">
2.77
</td>
<td style="text-align:right;color: white !important;">
20
</td>
<td style="text-align:right;color: white !important;">
6
</td>
<td style="text-align:right;color: white !important;">
145
</td>
<td style="text-align:right;color: white !important;">
175
</td>
<td style="text-align:right;color: white !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Maserati Bora
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: lightgreen !important;">
3.57
</td>
<td style="text-align:right;color: white !important;">
15
</td>
<td style="text-align:right;color: white !important;">
8
</td>
<td style="text-align:right;color: white !important;">
301
</td>
<td style="text-align:right;color: white !important;">
335
</td>
<td style="text-align:right;color: white !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Volvo 142E
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: lightgreen !important;">
2.78
</td>
<td style="text-align:right;color: white !important;">
21
</td>
<td style="text-align:right;color: white !important;">
4
</td>
<td style="text-align:right;color: white !important;">
121
</td>
<td style="text-align:right;color: white !important;">
109
</td>
<td style="text-align:right;color: white !important;">
4
</td>
</tr>
</tbody>
</table>
</td>
</tr></tbody></table></div>
<div class="rmdimportant">
<p><strong>This code moves the <code>wt</code> column <em>after</em> the <code>model</code> column.</strong></p>
</div>
<p><code><a href="https://dplyr.tidyverse.org/reference/relocate.html">relocate()</a></code> can also move multiple columns simultaneously when passed a vector of column names.</p>
<div class="sourceCode" id="cb250"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mtcars2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/relocate.html">relocate</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">disp</span>, <span class="va">drat</span><span class="op">)</span>, .after <span class="op">=</span> <span class="va">model</span><span class="op">)</span></code></pre></div>
<div class="inline-table"><table class="kable_wrapper"><tbody><tr>
<td>
<table class=" lightable-paper table table-striped table-hover table-condensed table-responsive" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;'>
<thead><tr>
<th style="text-align:left;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
model
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
mpg
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
cyl
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
disp
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
hp
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
wt
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
gear
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;color: white !important;">
Fiat X1-9
</td>
<td style="text-align:right;color: white !important;">
27
</td>
<td style="text-align:right;color: white !important;">
4
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: lightgreen !important;">
79
</td>
<td style="text-align:right;color: white !important;">
66
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: lightgreen !important;">
1.94
</td>
<td style="text-align:right;color: white !important;">
4
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Porsche 914-2
</td>
<td style="text-align:right;color: white !important;">
26
</td>
<td style="text-align:right;color: white !important;">
4
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: lightgreen !important;">
120
</td>
<td style="text-align:right;color: white !important;">
91
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: lightgreen !important;">
2.14
</td>
<td style="text-align:right;color: white !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Lotus Europa
</td>
<td style="text-align:right;color: white !important;">
30
</td>
<td style="text-align:right;color: white !important;">
4
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: lightgreen !important;">
95
</td>
<td style="text-align:right;color: white !important;">
113
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: lightgreen !important;">
1.51
</td>
<td style="text-align:right;color: white !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Ford Pantera L
</td>
<td style="text-align:right;color: white !important;">
16
</td>
<td style="text-align:right;color: white !important;">
8
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: lightgreen !important;">
351
</td>
<td style="text-align:right;color: white !important;">
264
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: lightgreen !important;">
3.17
</td>
<td style="text-align:right;color: white !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Ferrari Dino
</td>
<td style="text-align:right;color: white !important;">
20
</td>
<td style="text-align:right;color: white !important;">
6
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: lightgreen !important;">
145
</td>
<td style="text-align:right;color: white !important;">
175
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: lightgreen !important;">
2.77
</td>
<td style="text-align:right;color: white !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Maserati Bora
</td>
<td style="text-align:right;color: white !important;">
15
</td>
<td style="text-align:right;color: white !important;">
8
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: lightgreen !important;">
301
</td>
<td style="text-align:right;color: white !important;">
335
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: lightgreen !important;">
3.57
</td>
<td style="text-align:right;color: white !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Volvo 142E
</td>
<td style="text-align:right;color: white !important;">
21
</td>
<td style="text-align:right;color: white !important;">
4
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: lightgreen !important;">
121
</td>
<td style="text-align:right;color: white !important;">
109
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: lightgreen !important;">
2.78
</td>
<td style="text-align:right;color: white !important;">
4
</td>
</tr>
</tbody>
</table>
</td>
<td>
<table class=" lightable-paper" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;'>
<thead><tr>
<th style="text-align:left;font-size: 0px;">
test
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
<img src="figures/blank.png" width="64" height="32">
</td>
</tr>
<tr>
<td style="text-align:left;">
<img src="figures/blank.png" width="64" height="32">
</td>
</tr>
<tr>
<td style="text-align:left;">
<img src="figures/blank.png" width="64" height="32">
</td>
</tr>
<tr>
<td style="text-align:left;">
<img src="figures/arrow.png" width="64" height="32">
</td>
</tr>
</tbody>
</table>
</td>
<td>
<table class=" lightable-paper table table-striped table-hover table-condensed table-responsive" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;'>
<thead><tr>
<th style="text-align:left;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
model
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
disp
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
wt
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
mpg
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
cyl
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
hp
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
gear
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;color: white !important;">
Fiat X1-9
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: lightgreen !important;">
79
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: lightgreen !important;">
1.94
</td>
<td style="text-align:right;color: white !important;">
27
</td>
<td style="text-align:right;color: white !important;">
4
</td>
<td style="text-align:right;color: white !important;">
66
</td>
<td style="text-align:right;color: white !important;">
4
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Porsche 914-2
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: lightgreen !important;">
120
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: lightgreen !important;">
2.14
</td>
<td style="text-align:right;color: white !important;">
26
</td>
<td style="text-align:right;color: white !important;">
4
</td>
<td style="text-align:right;color: white !important;">
91
</td>
<td style="text-align:right;color: white !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Lotus Europa
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: lightgreen !important;">
95
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: lightgreen !important;">
1.51
</td>
<td style="text-align:right;color: white !important;">
30
</td>
<td style="text-align:right;color: white !important;">
4
</td>
<td style="text-align:right;color: white !important;">
113
</td>
<td style="text-align:right;color: white !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Ford Pantera L
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: lightgreen !important;">
351
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: lightgreen !important;">
3.17
</td>
<td style="text-align:right;color: white !important;">
16
</td>
<td style="text-align:right;color: white !important;">
8
</td>
<td style="text-align:right;color: white !important;">
264
</td>
<td style="text-align:right;color: white !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Ferrari Dino
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: lightgreen !important;">
145
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: lightgreen !important;">
2.77
</td>
<td style="text-align:right;color: white !important;">
20
</td>
<td style="text-align:right;color: white !important;">
6
</td>
<td style="text-align:right;color: white !important;">
175
</td>
<td style="text-align:right;color: white !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Maserati Bora
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: lightgreen !important;">
301
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: lightgreen !important;">
3.57
</td>
<td style="text-align:right;color: white !important;">
15
</td>
<td style="text-align:right;color: white !important;">
8
</td>
<td style="text-align:right;color: white !important;">
335
</td>
<td style="text-align:right;color: white !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Volvo 142E
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: lightgreen !important;">
121
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: lightgreen !important;">
2.78
</td>
<td style="text-align:right;color: white !important;">
21
</td>
<td style="text-align:right;color: white !important;">
4
</td>
<td style="text-align:right;color: white !important;">
109
</td>
<td style="text-align:right;color: white !important;">
4
</td>
</tr>
</tbody>
</table>
</td>
</tr></tbody></table></div>
<div class="panel panel-success">
<div class="panel-heading">
<strong>EXERCISE 3</strong>
</div>
<div class="panel-body">
<ol style="list-style-type: decimal">
<li>Move the <code>order</code> column to be positioned before the <code>vore</code> column.<br>
</li>
<li>Move the <code>sleep_total</code> column to be positioned after the <code>sleep_cycle</code> column.<br>
</li>
<li>Move both wt columns to be positioned after <code>genus</code>.
</li>
</ol>
</div>

</div>
</div>
<div id="select" class="section level2" number="12.5">
<h2>
<span class="header-section-number">12.5</span> Select<a class="anchor" aria-label="anchor" href="#select"><i class="fas fa-link"></i></a>
</h2>
<!-- select(c(columns_of_interest)) - returns the selected columns. You can select by actively choosing which columns you want, or choosing which columns you DON’T want (negate with a `!` in front of the vector of column names) -->
<p>Above, you used <code><a href="https://rdrr.io/r/utils/head.html">head()</a></code> when you wanted to output a preview of your dataframe. There will be many times like this when you want to <strong>subset</strong> your data (cutting it to show only subsets of it – which contain or exclude specific variables/observations).</p>
<p>There are two primary subsetting functions. The first is <code><a href="https://dplyr.tidyverse.org/reference/select.html">select()</a></code>, which selects and returns only the specified columns (passed to as a vector of column names).</p>
<p><code>select(c(columns_of_interest))</code></p>
<div class="sourceCode" id="cb251"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mtcars2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">cyl</span>, <span class="va">gear</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="inline-table"><table class="kable_wrapper"><tbody><tr>
<td>
<table class=" lightable-paper table table-striped table-hover table-condensed table-responsive" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;'>
<thead><tr>
<th style="text-align:left;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
model
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
mpg
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
cyl
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
disp
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
hp
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
wt
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
gear
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;color: white !important;">
Fiat X1-9
</td>
<td style="text-align:right;color: white !important;">
27
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
4
</td>
<td style="text-align:right;color: white !important;">
79
</td>
<td style="text-align:right;color: white !important;">
66
</td>
<td style="text-align:right;color: white !important;">
1.94
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
4
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Porsche 914-2
</td>
<td style="text-align:right;color: white !important;">
26
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
4
</td>
<td style="text-align:right;color: white !important;">
120
</td>
<td style="text-align:right;color: white !important;">
91
</td>
<td style="text-align:right;color: white !important;">
2.14
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Lotus Europa
</td>
<td style="text-align:right;color: white !important;">
30
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
4
</td>
<td style="text-align:right;color: white !important;">
95
</td>
<td style="text-align:right;color: white !important;">
113
</td>
<td style="text-align:right;color: white !important;">
1.51
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Ford Pantera L
</td>
<td style="text-align:right;color: white !important;">
16
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
8
</td>
<td style="text-align:right;color: white !important;">
351
</td>
<td style="text-align:right;color: white !important;">
264
</td>
<td style="text-align:right;color: white !important;">
3.17
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Ferrari Dino
</td>
<td style="text-align:right;color: white !important;">
20
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
6
</td>
<td style="text-align:right;color: white !important;">
145
</td>
<td style="text-align:right;color: white !important;">
175
</td>
<td style="text-align:right;color: white !important;">
2.77
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Maserati Bora
</td>
<td style="text-align:right;color: white !important;">
15
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
8
</td>
<td style="text-align:right;color: white !important;">
301
</td>
<td style="text-align:right;color: white !important;">
335
</td>
<td style="text-align:right;color: white !important;">
3.57
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Volvo 142E
</td>
<td style="text-align:right;color: white !important;">
21
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
4
</td>
<td style="text-align:right;color: white !important;">
121
</td>
<td style="text-align:right;color: white !important;">
109
</td>
<td style="text-align:right;color: white !important;">
2.78
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
4
</td>
</tr>
</tbody>
</table>
</td>
<td>
<table class=" lightable-paper" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;'>
<thead><tr>
<th style="text-align:left;font-size: 0px;">
test
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
<img src="figures/blank.png" width="64" height="32">
</td>
</tr>
<tr>
<td style="text-align:left;">
<img src="figures/blank.png" width="64" height="32">
</td>
</tr>
<tr>
<td style="text-align:left;">
<img src="figures/blank.png" width="64" height="32">
</td>
</tr>
<tr>
<td style="text-align:left;">
<img src="figures/arrow.png" width="64" height="32">
</td>
</tr>
</tbody>
</table>
</td>
<td>
<table class=" lightable-paper table table-striped table-hover table-condensed table-responsive" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;'>
<thead><tr>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
cyl
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
gear
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
4
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
4
</td>
</tr>
<tr>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
4
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
5
</td>
</tr>
<tr>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
4
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
5
</td>
</tr>
<tr>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
8
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
5
</td>
</tr>
<tr>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
6
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
5
</td>
</tr>
<tr>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
8
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
5
</td>
</tr>
<tr>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
4
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
4
</td>
</tr>
</tbody>
</table>
</td>
</tr></tbody></table></div>
<p>Just as the <code>:</code> could be used to generate all the values in a range of numbers (e.g., <code>1:4</code> would return: 1,2,3,4), you can also use a <code>:</code> to return all the values in a range of <em>columns</em>. For example:</p>
<div class="sourceCode" id="cb252"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mtcars2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">cyl</span><span class="op">:</span><span class="va">hp</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="inline-table"><table class="kable_wrapper"><tbody><tr>
<td>
<table class=" lightable-paper table table-striped table-hover table-condensed table-responsive" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;'>
<thead><tr>
<th style="text-align:left;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
model
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
mpg
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
cyl
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
disp
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
hp
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
wt
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
gear
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;color: white !important;">
Fiat X1-9
</td>
<td style="text-align:right;color: white !important;">
27
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
4
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
79
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
66
</td>
<td style="text-align:right;color: white !important;">
1.94
</td>
<td style="text-align:right;color: white !important;">
4
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Porsche 914-2
</td>
<td style="text-align:right;color: white !important;">
26
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
4
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
120
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
91
</td>
<td style="text-align:right;color: white !important;">
2.14
</td>
<td style="text-align:right;color: white !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Lotus Europa
</td>
<td style="text-align:right;color: white !important;">
30
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
4
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
95
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
113
</td>
<td style="text-align:right;color: white !important;">
1.51
</td>
<td style="text-align:right;color: white !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Ford Pantera L
</td>
<td style="text-align:right;color: white !important;">
16
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
8
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
351
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
264
</td>
<td style="text-align:right;color: white !important;">
3.17
</td>
<td style="text-align:right;color: white !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Ferrari Dino
</td>
<td style="text-align:right;color: white !important;">
20
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
6
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
145
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
175
</td>
<td style="text-align:right;color: white !important;">
2.77
</td>
<td style="text-align:right;color: white !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Maserati Bora
</td>
<td style="text-align:right;color: white !important;">
15
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
8
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
301
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
335
</td>
<td style="text-align:right;color: white !important;">
3.57
</td>
<td style="text-align:right;color: white !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Volvo 142E
</td>
<td style="text-align:right;color: white !important;">
21
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
4
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
121
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
109
</td>
<td style="text-align:right;color: white !important;">
2.78
</td>
<td style="text-align:right;color: white !important;">
4
</td>
</tr>
</tbody>
</table>
</td>
<td>
<table class=" lightable-paper" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;'>
<thead><tr>
<th style="text-align:left;font-size: 0px;">
test
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
<img src="figures/blank.png" width="64" height="32">
</td>
</tr>
<tr>
<td style="text-align:left;">
<img src="figures/blank.png" width="64" height="32">
</td>
</tr>
<tr>
<td style="text-align:left;">
<img src="figures/blank.png" width="64" height="32">
</td>
</tr>
<tr>
<td style="text-align:left;">
<img src="figures/arrow.png" width="64" height="32">
</td>
</tr>
</tbody>
</table>
</td>
<td>
<table class=" lightable-paper table table-striped table-hover table-condensed table-responsive" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;'>
<thead><tr>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
cyl
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
disp
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
hp
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
4
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
79
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
66
</td>
</tr>
<tr>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
4
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
120
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
91
</td>
</tr>
<tr>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
4
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
95
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
113
</td>
</tr>
<tr>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
8
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
351
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
264
</td>
</tr>
<tr>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
6
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
145
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
175
</td>
</tr>
<tr>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
8
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
301
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
335
</td>
</tr>
<tr>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
4
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
121
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
109
</td>
</tr>
</tbody>
</table>
</td>
</tr></tbody></table></div>
<div class="rmdimportant">
<p><strong>This selects the <code>cyl</code> column, the <code>hp</code> column, and all columns in between the two!</strong></p>
</div>
<div class="panel panel-success">
<div class="panel-heading">
<strong>EXERCISE 4</strong>
</div>
<div class="panel-body">
<ol style="list-style-type: decimal">
<li>Subset the <code>name</code> and <code>vore</code> columns.<br>
</li>
<li>Subset the <code>genus</code> and <code>order</code> columns.<br>
</li>
<li>Subset all the sleep related columns.
</li>
</ol>
</div>

</div>
<p><code><a href="https://dplyr.tidyverse.org/reference/select.html">select()</a></code> can also be used to <em>get rid of columns</em> you do <strong>NOT</strong> want by negating the vector of column names using a <code>!</code>.</p>
<div class="sourceCode" id="cb253"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mtcars2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">cyl</span>, <span class="va">gear</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="inline-table"><table class="kable_wrapper"><tbody><tr>
<td>
<table class=" lightable-paper table table-striped table-hover table-condensed table-responsive" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;'>
<thead><tr>
<th style="text-align:left;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
model
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
mpg
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
cyl
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
disp
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
hp
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
wt
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
gear
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;color: white !important;">
Fiat X1-9
</td>
<td style="text-align:right;color: white !important;">
27
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
4
</td>
<td style="text-align:right;color: white !important;">
79
</td>
<td style="text-align:right;color: white !important;">
66
</td>
<td style="text-align:right;color: white !important;">
1.94
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
4
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Porsche 914-2
</td>
<td style="text-align:right;color: white !important;">
26
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
4
</td>
<td style="text-align:right;color: white !important;">
120
</td>
<td style="text-align:right;color: white !important;">
91
</td>
<td style="text-align:right;color: white !important;">
2.14
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Lotus Europa
</td>
<td style="text-align:right;color: white !important;">
30
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
4
</td>
<td style="text-align:right;color: white !important;">
95
</td>
<td style="text-align:right;color: white !important;">
113
</td>
<td style="text-align:right;color: white !important;">
1.51
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Ford Pantera L
</td>
<td style="text-align:right;color: white !important;">
16
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
8
</td>
<td style="text-align:right;color: white !important;">
351
</td>
<td style="text-align:right;color: white !important;">
264
</td>
<td style="text-align:right;color: white !important;">
3.17
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Ferrari Dino
</td>
<td style="text-align:right;color: white !important;">
20
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
6
</td>
<td style="text-align:right;color: white !important;">
145
</td>
<td style="text-align:right;color: white !important;">
175
</td>
<td style="text-align:right;color: white !important;">
2.77
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Maserati Bora
</td>
<td style="text-align:right;color: white !important;">
15
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
8
</td>
<td style="text-align:right;color: white !important;">
301
</td>
<td style="text-align:right;color: white !important;">
335
</td>
<td style="text-align:right;color: white !important;">
3.57
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Volvo 142E
</td>
<td style="text-align:right;color: white !important;">
21
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
4
</td>
<td style="text-align:right;color: white !important;">
121
</td>
<td style="text-align:right;color: white !important;">
109
</td>
<td style="text-align:right;color: white !important;">
2.78
</td>
<td style="text-align:right;color: white !important;color: white !important;background-color: blueviolet !important;">
4
</td>
</tr>
</tbody>
</table>
</td>
<td>
<table class=" lightable-paper" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;'>
<thead><tr>
<th style="text-align:left;font-size: 0px;">
test
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
<img src="figures/blank.png" width="64" height="32">
</td>
</tr>
<tr>
<td style="text-align:left;">
<img src="figures/blank.png" width="64" height="32">
</td>
</tr>
<tr>
<td style="text-align:left;">
<img src="figures/blank.png" width="64" height="32">
</td>
</tr>
<tr>
<td style="text-align:left;">
<img src="figures/arrow.png" width="64" height="32">
</td>
</tr>
</tbody>
</table>
</td>
<td>
<table class=" lightable-paper table table-striped table-hover table-condensed table-responsive" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;'>
<thead><tr>
<th style="text-align:left;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
model
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
mpg
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
disp
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
hp
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
wt
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;color: white !important;">
Fiat X1-9
</td>
<td style="text-align:right;color: white !important;">
27
</td>
<td style="text-align:right;color: white !important;">
79
</td>
<td style="text-align:right;color: white !important;">
66
</td>
<td style="text-align:right;color: white !important;">
1.94
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Porsche 914-2
</td>
<td style="text-align:right;color: white !important;">
26
</td>
<td style="text-align:right;color: white !important;">
120
</td>
<td style="text-align:right;color: white !important;">
91
</td>
<td style="text-align:right;color: white !important;">
2.14
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Lotus Europa
</td>
<td style="text-align:right;color: white !important;">
30
</td>
<td style="text-align:right;color: white !important;">
95
</td>
<td style="text-align:right;color: white !important;">
113
</td>
<td style="text-align:right;color: white !important;">
1.51
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Ford Pantera L
</td>
<td style="text-align:right;color: white !important;">
16
</td>
<td style="text-align:right;color: white !important;">
351
</td>
<td style="text-align:right;color: white !important;">
264
</td>
<td style="text-align:right;color: white !important;">
3.17
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Ferrari Dino
</td>
<td style="text-align:right;color: white !important;">
20
</td>
<td style="text-align:right;color: white !important;">
145
</td>
<td style="text-align:right;color: white !important;">
175
</td>
<td style="text-align:right;color: white !important;">
2.77
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Maserati Bora
</td>
<td style="text-align:right;color: white !important;">
15
</td>
<td style="text-align:right;color: white !important;">
301
</td>
<td style="text-align:right;color: white !important;">
335
</td>
<td style="text-align:right;color: white !important;">
3.57
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Volvo 142E
</td>
<td style="text-align:right;color: white !important;">
21
</td>
<td style="text-align:right;color: white !important;">
121
</td>
<td style="text-align:right;color: white !important;">
109
</td>
<td style="text-align:right;color: white !important;">
2.78
</td>
</tr>
</tbody>
</table>
</td>
</tr></tbody></table></div>
<div class="rmdimportant">
<p><strong>This selects all columns <em>except</em> <code>cyl</code> and <code>gear</code>.</strong></p>
</div>
<div class="panel panel-success">
<div class="panel-heading">
<strong>EXERCISE 5</strong>
</div>
<div class="panel-body">
<ol style="list-style-type: decimal">
<li>Use <code><a href="https://dplyr.tidyverse.org/reference/select.html">select()</a></code> to get rid of the <code>awake</code> column.<br>
</li>
<li>Get rid of all columns related to the animal’s weight.
</li>
</ol>
</div>

</div>
<p>When you specifically want to move a variable (or variables) to the front of your df, there is an easy way to do so using <code><a href="https://dplyr.tidyverse.org/reference/select.html">select()</a></code> instead of <code><a href="https://dplyr.tidyverse.org/reference/relocate.html">relocate()</a></code>:</p>
<div class="sourceCode" id="cb254"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mtcars2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">wt</span>, <span class="fu"><a href="https://tidyselect.r-lib.org/reference/everything.html">everything</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;     wt          model mpg cyl disp  hp gear</span>
<span class="co">#&gt; 1 1.94      Fiat X1-9  27   4   79  66    4</span>
<span class="co">#&gt; 2 2.14  Porsche 914-2  26   4  120  91    5</span>
<span class="co">#&gt; 3 1.51   Lotus Europa  30   4   95 113    5</span>
<span class="co">#&gt; 4 3.17 Ford Pantera L  16   8  351 264    5</span>
<span class="co">#&gt; 5 2.77   Ferrari Dino  20   6  145 175    5</span>
<span class="co">#&gt; 6 3.57  Maserati Bora  15   8  301 335    5</span>
<span class="co">#&gt; 7 2.78     Volvo 142E  21   4  121 109    4</span></code></pre></div>
<p>The <code><a href="https://tidyselect.r-lib.org/reference/everything.html">everything()</a></code> function selects… everything! It will select all the variables in a df. So this is first selecting the <code>wt</code> variable, and then everything else. The result is still all the variables in the df, but <code>wt</code> is at the front.</p>
</div>
<div id="filter" class="section level2" number="12.6">
<h2>
<span class="header-section-number">12.6</span> Filter<a class="anchor" aria-label="anchor" href="#filter"><i class="fas fa-link"></i></a>
</h2>
<!-- filter(columnToSubset == valueOfInterest) - returns rows that meet specified condition(s). Can use single conditions or string together multiple tests with logical operators -->
<p>The second primary subsetting function is <code><a href="https://dplyr.tidyverse.org/reference/filter.html">filter()</a></code>, which returns rows that meet specified condition(s). Each condition is a logical test performed on a column. This will results in a vector of <code>TRUE</code> and <code>FALSE</code> values, and only the rows for which the test evaluates to <code>TRUE</code> will be returned!</p>
<img src="figures/dplyr_filter.jpeg" style="width:100.0%"><p style="font-size:6pt">
Artwork by <span class="citation">Horst (2022)</span>
</p>
<p>As you see in the illustration above, only the rows with a check mark (where the logical test resulted in <code>TRUE</code>) would be returned from that <code><a href="https://dplyr.tidyverse.org/reference/filter.html">filter()</a></code> call!</p>
<div class="sourceCode" id="cb255"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mtcars2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">gear</span> <span class="op">==</span> <span class="fl">4</span><span class="op">)</span></code></pre></div>
<div class="inline-table"><table class="kable_wrapper"><tbody><tr>
<td>
<table class=" lightable-paper table table-striped table-hover table-condensed table-responsive" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;'>
<thead><tr>
<th style="text-align:left;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
model
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
mpg
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
cyl
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
disp
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
hp
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
wt
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
gear
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;color: white !important;background-color: goldenrod !important;">
Fiat X1-9
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
27
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
4
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
79
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
66
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
1.94
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
4
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Porsche 914-2
</td>
<td style="text-align:right;color: white !important;">
26
</td>
<td style="text-align:right;color: white !important;">
4
</td>
<td style="text-align:right;color: white !important;">
120
</td>
<td style="text-align:right;color: white !important;">
91
</td>
<td style="text-align:right;color: white !important;">
2.14
</td>
<td style="text-align:right;color: white !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Lotus Europa
</td>
<td style="text-align:right;color: white !important;">
30
</td>
<td style="text-align:right;color: white !important;">
4
</td>
<td style="text-align:right;color: white !important;">
95
</td>
<td style="text-align:right;color: white !important;">
113
</td>
<td style="text-align:right;color: white !important;">
1.51
</td>
<td style="text-align:right;color: white !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Ford Pantera L
</td>
<td style="text-align:right;color: white !important;">
16
</td>
<td style="text-align:right;color: white !important;">
8
</td>
<td style="text-align:right;color: white !important;">
351
</td>
<td style="text-align:right;color: white !important;">
264
</td>
<td style="text-align:right;color: white !important;">
3.17
</td>
<td style="text-align:right;color: white !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Ferrari Dino
</td>
<td style="text-align:right;color: white !important;">
20
</td>
<td style="text-align:right;color: white !important;">
6
</td>
<td style="text-align:right;color: white !important;">
145
</td>
<td style="text-align:right;color: white !important;">
175
</td>
<td style="text-align:right;color: white !important;">
2.77
</td>
<td style="text-align:right;color: white !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Maserati Bora
</td>
<td style="text-align:right;color: white !important;">
15
</td>
<td style="text-align:right;color: white !important;">
8
</td>
<td style="text-align:right;color: white !important;">
301
</td>
<td style="text-align:right;color: white !important;">
335
</td>
<td style="text-align:right;color: white !important;">
3.57
</td>
<td style="text-align:right;color: white !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;background-color: goldenrod !important;">
Volvo 142E
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
21
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
4
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
121
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
109
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
2.78
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
4
</td>
</tr>
</tbody>
</table>
</td>
<td>
<table class=" lightable-paper" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;'>
<thead><tr>
<th style="text-align:left;font-size: 0px;">
test
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
<img src="figures/blank.png" width="64" height="32">
</td>
</tr>
<tr>
<td style="text-align:left;">
<img src="figures/blank.png" width="64" height="32">
</td>
</tr>
<tr>
<td style="text-align:left;">
<img src="figures/blank.png" width="64" height="32">
</td>
</tr>
<tr>
<td style="text-align:left;">
<img src="figures/arrow.png" width="64" height="32">
</td>
</tr>
</tbody>
</table>
</td>
<td>
<table class=" lightable-paper table table-striped table-hover table-condensed table-responsive" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;'>
<thead><tr>
<th style="text-align:left;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
model
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
mpg
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
cyl
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
disp
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
hp
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
wt
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
gear
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;color: white !important;background-color: goldenrod !important;">
Fiat X1-9
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
27
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
4
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
79
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
66
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
1.94
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
4
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;background-color: goldenrod !important;">
Volvo 142E
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
21
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
4
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
121
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
109
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
2.78
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
4
</td>
</tr>
</tbody>
</table>
</td>
</tr></tbody></table></div>
<div class="rmdimportant">
<p><strong>This filters the dataframe to return only rows where <code>gear</code> has a value of 4.</strong></p>
</div>
<p>Any evaluative operator can be used in the conditions:</p>
<div class="sourceCode" id="cb256"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mtcars2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">disp</span> <span class="op">&gt;</span> <span class="fl">300</span><span class="op">)</span></code></pre></div>
<div class="inline-table"><table class="kable_wrapper"><tbody><tr>
<td>
<table class=" lightable-paper table table-striped table-hover table-condensed table-responsive" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;'>
<thead><tr>
<th style="text-align:left;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
model
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
mpg
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
cyl
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
disp
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
hp
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
wt
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
gear
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;color: white !important;">
Fiat X1-9
</td>
<td style="text-align:right;color: white !important;">
27
</td>
<td style="text-align:right;color: white !important;">
4
</td>
<td style="text-align:right;color: white !important;">
79
</td>
<td style="text-align:right;color: white !important;">
66
</td>
<td style="text-align:right;color: white !important;">
1.94
</td>
<td style="text-align:right;color: white !important;">
4
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Porsche 914-2
</td>
<td style="text-align:right;color: white !important;">
26
</td>
<td style="text-align:right;color: white !important;">
4
</td>
<td style="text-align:right;color: white !important;">
120
</td>
<td style="text-align:right;color: white !important;">
91
</td>
<td style="text-align:right;color: white !important;">
2.14
</td>
<td style="text-align:right;color: white !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Lotus Europa
</td>
<td style="text-align:right;color: white !important;">
30
</td>
<td style="text-align:right;color: white !important;">
4
</td>
<td style="text-align:right;color: white !important;">
95
</td>
<td style="text-align:right;color: white !important;">
113
</td>
<td style="text-align:right;color: white !important;">
1.51
</td>
<td style="text-align:right;color: white !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;background-color: goldenrod !important;">
Ford Pantera L
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
16
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
8
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
351
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
264
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
3.17
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Ferrari Dino
</td>
<td style="text-align:right;color: white !important;">
20
</td>
<td style="text-align:right;color: white !important;">
6
</td>
<td style="text-align:right;color: white !important;">
145
</td>
<td style="text-align:right;color: white !important;">
175
</td>
<td style="text-align:right;color: white !important;">
2.77
</td>
<td style="text-align:right;color: white !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;background-color: goldenrod !important;">
Maserati Bora
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
15
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
8
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
301
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
335
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
3.57
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Volvo 142E
</td>
<td style="text-align:right;color: white !important;">
21
</td>
<td style="text-align:right;color: white !important;">
4
</td>
<td style="text-align:right;color: white !important;">
121
</td>
<td style="text-align:right;color: white !important;">
109
</td>
<td style="text-align:right;color: white !important;">
2.78
</td>
<td style="text-align:right;color: white !important;">
4
</td>
</tr>
</tbody>
</table>
</td>
<td>
<table class=" lightable-paper" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;'>
<thead><tr>
<th style="text-align:left;font-size: 0px;">
test
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
<img src="figures/blank.png" width="64" height="32">
</td>
</tr>
<tr>
<td style="text-align:left;">
<img src="figures/blank.png" width="64" height="32">
</td>
</tr>
<tr>
<td style="text-align:left;">
<img src="figures/blank.png" width="64" height="32">
</td>
</tr>
<tr>
<td style="text-align:left;">
<img src="figures/arrow.png" width="64" height="32">
</td>
</tr>
</tbody>
</table>
</td>
<td>
<table class=" lightable-paper table table-striped table-hover table-condensed table-responsive" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;'>
<thead><tr>
<th style="text-align:left;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
model
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
mpg
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
cyl
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
disp
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
hp
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
wt
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
gear
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;color: white !important;background-color: goldenrod !important;">
Ford Pantera L
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
16
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
8
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
351
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
264
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
3.17
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;background-color: goldenrod !important;">
Maserati Bora
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
15
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
8
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
301
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
335
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
3.57
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
5
</td>
</tr>
</tbody>
</table>
</td>
</tr></tbody></table></div>
<div class="rmdimportant">
<p><strong>This filters the dataframe to return only rows where <code>gear</code> has a value of 4.</strong></p>
</div>
<p>The values specified in your tests do not have to be numbers, they can be text strings as well!</p>
<div class="sourceCode" id="cb257"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mtcars2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">model</span> <span class="op">==</span> <span class="st">"Lotus Europa"</span><span class="op">)</span></code></pre></div>
<div class="inline-table"><table class="kable_wrapper"><tbody><tr>
<td>
<table class=" lightable-paper table table-striped table-hover table-condensed table-responsive" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;'>
<thead><tr>
<th style="text-align:left;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
model
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
mpg
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
cyl
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
disp
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
hp
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
wt
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
gear
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;color: white !important;">
Fiat X1-9
</td>
<td style="text-align:right;color: white !important;">
27
</td>
<td style="text-align:right;color: white !important;">
4
</td>
<td style="text-align:right;color: white !important;">
79
</td>
<td style="text-align:right;color: white !important;">
66
</td>
<td style="text-align:right;color: white !important;">
1.94
</td>
<td style="text-align:right;color: white !important;">
4
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Porsche 914-2
</td>
<td style="text-align:right;color: white !important;">
26
</td>
<td style="text-align:right;color: white !important;">
4
</td>
<td style="text-align:right;color: white !important;">
120
</td>
<td style="text-align:right;color: white !important;">
91
</td>
<td style="text-align:right;color: white !important;">
2.14
</td>
<td style="text-align:right;color: white !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;background-color: goldenrod !important;">
Lotus Europa
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
30
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
4
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
95
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
113
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
1.51
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Ford Pantera L
</td>
<td style="text-align:right;color: white !important;">
16
</td>
<td style="text-align:right;color: white !important;">
8
</td>
<td style="text-align:right;color: white !important;">
351
</td>
<td style="text-align:right;color: white !important;">
264
</td>
<td style="text-align:right;color: white !important;">
3.17
</td>
<td style="text-align:right;color: white !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Ferrari Dino
</td>
<td style="text-align:right;color: white !important;">
20
</td>
<td style="text-align:right;color: white !important;">
6
</td>
<td style="text-align:right;color: white !important;">
145
</td>
<td style="text-align:right;color: white !important;">
175
</td>
<td style="text-align:right;color: white !important;">
2.77
</td>
<td style="text-align:right;color: white !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Maserati Bora
</td>
<td style="text-align:right;color: white !important;">
15
</td>
<td style="text-align:right;color: white !important;">
8
</td>
<td style="text-align:right;color: white !important;">
301
</td>
<td style="text-align:right;color: white !important;">
335
</td>
<td style="text-align:right;color: white !important;">
3.57
</td>
<td style="text-align:right;color: white !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Volvo 142E
</td>
<td style="text-align:right;color: white !important;">
21
</td>
<td style="text-align:right;color: white !important;">
4
</td>
<td style="text-align:right;color: white !important;">
121
</td>
<td style="text-align:right;color: white !important;">
109
</td>
<td style="text-align:right;color: white !important;">
2.78
</td>
<td style="text-align:right;color: white !important;">
4
</td>
</tr>
</tbody>
</table>
</td>
<td>
<table class=" lightable-paper" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;'>
<thead><tr>
<th style="text-align:left;font-size: 0px;">
test
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
<img src="figures/blank.png" width="64" height="32">
</td>
</tr>
<tr>
<td style="text-align:left;">
<img src="figures/blank.png" width="64" height="32">
</td>
</tr>
<tr>
<td style="text-align:left;">
<img src="figures/blank.png" width="64" height="32">
</td>
</tr>
<tr>
<td style="text-align:left;">
<img src="figures/arrow.png" width="64" height="32">
</td>
</tr>
</tbody>
</table>
</td>
<td>
<table class=" lightable-paper table table-striped table-hover table-condensed table-responsive" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;'>
<thead><tr>
<th style="text-align:left;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
model
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
mpg
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
cyl
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
disp
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
hp
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
wt
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
gear
</th>
</tr></thead>
<tbody><tr>
<td style="text-align:left;color: white !important;background-color: goldenrod !important;">
Lotus Europa
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
30
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
4
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
95
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
113
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
1.51
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
5
</td>
</tr></tbody>
</table>
</td>
</tr></tbody></table></div>
<div class="rmdimportant">
<p><strong>This filters the dataframe to return only rows where <code>model</code> is “Lotus Europa.”</strong></p>
</div>
<div class="panel panel-success">
<div class="panel-heading">
<strong>EXERCISE 6</strong>
</div>
<div class="panel-body">
Filter the data to show only the observations where…<br>
1. The animals are of Rodentia order.<br>
2. The animals have a body weight of 5 or greater.<br>
3. The animals are not herbivores.
</div>
</div>
<p>Multiple conditions can be strung together using logical operators:</p>
<div class="sourceCode" id="cb258"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mtcars2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">cyl</span> <span class="op">!=</span> <span class="fl">4</span> <span class="op">|</span> <span class="va">hp</span> <span class="op">&lt;</span> <span class="fl">100</span><span class="op">)</span></code></pre></div>
<div class="inline-table"><table class="kable_wrapper"><tbody><tr>
<td>
<table class=" lightable-paper table table-striped table-hover table-condensed table-responsive" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;'>
<thead><tr>
<th style="text-align:left;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
model
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
mpg
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
cyl
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
disp
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
hp
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
wt
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
gear
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;color: white !important;background-color: goldenrod !important;">
Fiat X1-9
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
27
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
4
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
79
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
66
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
1.94
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
4
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;background-color: goldenrod !important;">
Porsche 914-2
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
26
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
4
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
120
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
91
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
2.14
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Lotus Europa
</td>
<td style="text-align:right;color: white !important;">
30
</td>
<td style="text-align:right;color: white !important;">
4
</td>
<td style="text-align:right;color: white !important;">
95
</td>
<td style="text-align:right;color: white !important;">
113
</td>
<td style="text-align:right;color: white !important;">
1.51
</td>
<td style="text-align:right;color: white !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;background-color: goldenrod !important;">
Ford Pantera L
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
16
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
8
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
351
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
264
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
3.17
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;background-color: goldenrod !important;">
Ferrari Dino
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
20
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
6
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
145
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
175
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
2.77
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;background-color: goldenrod !important;">
Maserati Bora
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
15
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
8
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
301
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
335
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
3.57
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Volvo 142E
</td>
<td style="text-align:right;color: white !important;">
21
</td>
<td style="text-align:right;color: white !important;">
4
</td>
<td style="text-align:right;color: white !important;">
121
</td>
<td style="text-align:right;color: white !important;">
109
</td>
<td style="text-align:right;color: white !important;">
2.78
</td>
<td style="text-align:right;color: white !important;">
4
</td>
</tr>
</tbody>
</table>
</td>
<td>
<table class=" lightable-paper" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;'>
<thead><tr>
<th style="text-align:left;font-size: 0px;">
test
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
<img src="figures/blank.png" width="64" height="32">
</td>
</tr>
<tr>
<td style="text-align:left;">
<img src="figures/blank.png" width="64" height="32">
</td>
</tr>
<tr>
<td style="text-align:left;">
<img src="figures/blank.png" width="64" height="32">
</td>
</tr>
<tr>
<td style="text-align:left;">
<img src="figures/arrow.png" width="64" height="32">
</td>
</tr>
</tbody>
</table>
</td>
<td>
<table class=" lightable-paper table table-striped table-hover table-condensed table-responsive" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;'>
<thead><tr>
<th style="text-align:left;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
model
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
mpg
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
cyl
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
disp
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
hp
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
wt
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
gear
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;color: white !important;background-color: goldenrod !important;">
Fiat X1-9
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
27
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
4
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
79
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
66
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
1.94
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
4
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;background-color: goldenrod !important;">
Porsche 914-2
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
26
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
4
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
120
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
91
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
2.14
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;background-color: goldenrod !important;">
Ford Pantera L
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
16
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
8
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
351
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
264
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
3.17
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;background-color: goldenrod !important;">
Ferrari Dino
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
20
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
6
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
145
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
175
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
2.77
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;background-color: goldenrod !important;">
Maserati Bora
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
15
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
8
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
301
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
335
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
3.57
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
5
</td>
</tr>
</tbody>
</table>
</td>
</tr></tbody></table></div>
<div class="rmdimportant">
<p><strong>This filters the dataframe to return only rows where <code>cyl</code> does not have a value of 4 OR <code>hp</code> is less than 100.</strong></p>
</div>
<p>When multiple logical tests are strung together they get evaluated from left to right. You must be mindful about the order of operations and using parentheses to make sure the conditions are evaluated as you intended. For example:</p>
<p><code>filter(cyl == 4 | hp &lt; 200 &amp; gear == 5)</code> would be evaluated as:<br><code>filter(cyl == 4 | (hp &lt; 200 &amp; gear == 5))</code>
<br>
which is different than:<br><code>filter((cyl == 4 | hp &lt; 200) &amp; gear == 5)</code>.</p>
<div class="panel panel-success">
<div class="panel-heading">
<strong>EXERCISE 7</strong>
</div>
<div class="panel-body">
Filter the data to show…<br>
1. The animals who sleep for over 14 hours total and weigh less than 3<br>
2. The carnivores who spend over 10 hours awake, then subset only the <code>awake</code>, <code>vore</code>, and <code>sleep_total</code> columns.<br>
3. All animals with a brain weight greater than 0.1 or spend less than 1 hour in rem, <strong>except those who are herbivores</strong>, then subset only the <code>brainwt</code>, <code>sleep_rem</code>, and <code>name</code> columns, and arrange the results by <code>awake</code> from greatest to least.
</div>
</div>
<div id="in" class="section level3" number="12.6.1">
<h3>
<span class="header-section-number">12.6.1</span> %in%<a class="anchor" aria-label="anchor" href="#in"><i class="fas fa-link"></i></a>
</h3>
<p>Stringing together multiple tests of text patterns would be very cumbersome (e.g., <code>model == "Lotus Europa" | model == "Ferrari Dino" | ...</code>). Fortunately, there is an alternative with the <code>%in%</code> operator. As a reminder, this will check to see if the value of one variable is in a vector of possible values.</p>
<div class="sourceCode" id="cb259"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mtcars2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">model</span> <span class="op"><a href="https://rdrr.io/r/base/match.html">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Lotus Europa"</span>, <span class="st">"Ferrari Dino"</span>, <span class="st">"Volvo 142E"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="inline-table"><table class="kable_wrapper"><tbody><tr>
<td>
<table class=" lightable-paper table table-striped table-hover table-condensed table-responsive" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;'>
<thead><tr>
<th style="text-align:left;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
model
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
mpg
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
cyl
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
disp
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
hp
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
wt
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
gear
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;color: white !important;">
Fiat X1-9
</td>
<td style="text-align:right;color: white !important;">
27
</td>
<td style="text-align:right;color: white !important;">
4
</td>
<td style="text-align:right;color: white !important;">
79
</td>
<td style="text-align:right;color: white !important;">
66
</td>
<td style="text-align:right;color: white !important;">
1.94
</td>
<td style="text-align:right;color: white !important;">
4
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Porsche 914-2
</td>
<td style="text-align:right;color: white !important;">
26
</td>
<td style="text-align:right;color: white !important;">
4
</td>
<td style="text-align:right;color: white !important;">
120
</td>
<td style="text-align:right;color: white !important;">
91
</td>
<td style="text-align:right;color: white !important;">
2.14
</td>
<td style="text-align:right;color: white !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;background-color: goldenrod !important;">
Lotus Europa
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
30
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
4
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
95
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
113
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
1.51
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Ford Pantera L
</td>
<td style="text-align:right;color: white !important;">
16
</td>
<td style="text-align:right;color: white !important;">
8
</td>
<td style="text-align:right;color: white !important;">
351
</td>
<td style="text-align:right;color: white !important;">
264
</td>
<td style="text-align:right;color: white !important;">
3.17
</td>
<td style="text-align:right;color: white !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;background-color: goldenrod !important;">
Ferrari Dino
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
20
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
6
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
145
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
175
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
2.77
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;">
Maserati Bora
</td>
<td style="text-align:right;color: white !important;">
15
</td>
<td style="text-align:right;color: white !important;">
8
</td>
<td style="text-align:right;color: white !important;">
301
</td>
<td style="text-align:right;color: white !important;">
335
</td>
<td style="text-align:right;color: white !important;">
3.57
</td>
<td style="text-align:right;color: white !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;background-color: goldenrod !important;">
Volvo 142E
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
21
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
4
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
121
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
109
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
2.78
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
4
</td>
</tr>
</tbody>
</table>
</td>
<td>
<table class=" lightable-paper" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto;'>
<thead><tr>
<th style="text-align:left;font-size: 0px;">
test
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
<img src="figures/blank.png" width="64" height="32">
</td>
</tr>
<tr>
<td style="text-align:left;">
<img src="figures/blank.png" width="64" height="32">
</td>
</tr>
<tr>
<td style="text-align:left;">
<img src="figures/blank.png" width="64" height="32">
</td>
</tr>
<tr>
<td style="text-align:left;">
<img src="figures/arrow.png" width="64" height="32">
</td>
</tr>
</tbody>
</table>
</td>
<td>
<table class=" lightable-paper table table-striped table-hover table-condensed table-responsive" style='font-family: "Arial Narrow", arial, helvetica, sans-serif; width: auto !important; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;'>
<thead><tr>
<th style="text-align:left;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
model
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
mpg
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
cyl
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
disp
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
hp
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
wt
</th>
<th style="text-align:right;font-weight: bold;text-decoration: underline;color: white !important;text-align: center;">
gear
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;color: white !important;background-color: goldenrod !important;">
Lotus Europa
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
30
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
4
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
95
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
113
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
1.51
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;background-color: goldenrod !important;">
Ferrari Dino
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
20
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
6
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
145
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
175
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
2.77
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
5
</td>
</tr>
<tr>
<td style="text-align:left;color: white !important;background-color: goldenrod !important;">
Volvo 142E
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
21
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
4
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
121
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
109
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
2.78
</td>
<td style="text-align:right;color: white !important;background-color: goldenrod !important;">
4
</td>
</tr>
</tbody>
</table>
</td>
</tr></tbody></table></div>
<div class="rmdimportant">
<p><strong>This filters the dataframe to return only rows where <code>model</code> is “Lotus Europa,” “Ferrari Dino,” or “Volvo 142E.”</strong></p>
</div>
<div class="panel panel-success">
<div class="panel-heading">
<strong>EXERCISE 8</strong>
</div>
<div class="panel-body">
Filter the data to show…<br>
1. Animals in the “Cetacea,” “Cingulata,” or “Pilosa” order, who sleep for a total of anywhere between 5 and 10 hours.<br>
2. Modify the code from above to show only the <code>name</code>, <code>order</code>, <code>sleep_total</code>, and <code>brainwt</code>. <br>
3. Modify the code from above to arrange by brain weight from least to greatest.
</div>
</div>
</div>
<div id="pattern-matching" class="section level3" number="12.6.2">
<h3>
<span class="header-section-number">12.6.2</span> Pattern Matching<a class="anchor" aria-label="anchor" href="#pattern-matching"><i class="fas fa-link"></i></a>
</h3>
<p>For any number of reasons there may be times you do not want to search for an exact string match. Rather, you want to filter based on whether a value <em>contains</em> a certain string. This can be accomplished with <code><a href="https://rdrr.io/r/base/grep.html">grepl()</a></code>, which takes the form:</p>
<p><code>grepl(pattern_to_search_for, where_to_search)</code></p>
<div class="sourceCode" id="cb260"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mtcars2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/grep.html">grepl</a></span><span class="op">(</span><span class="st">"Porsche"</span>, <span class="va">model</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;           model mpg cyl disp hp   wt gear</span>
<span class="co">#&gt; 1 Porsche 914-2  26   4  120 91 2.14    5</span></code></pre></div>
<div class="rmdimportant">
<p><strong>This filters the dataframe to return only rows where <code>model</code> contains the string “Porsche” in its value.</strong></p>
</div>
<div class="panel panel-success">
<div class="panel-heading">
<strong>EXERCISE 9</strong>
</div>
<div class="panel-body">
Filter the data to show…<br>
1. The animals who sleep for over 14 hours total and weigh less than 3<br>
2. The carnivores who spend over 10 hours awake, then subset only the <code>awake</code>, <code>vore</code>, and <code>sleep_total</code> columns.<br>
3. All animals with a brain weight greater than 0.1 or spend less than 1 hour in rem, <strong>except those who are herbivores</strong>, then subset only the <code>brainwt</code>, <code>sleep_rem</code>, and <code>name</code> columns, and arrange the results by <code>awake</code> from greatest to least.
</div>
</div>
</div>
</div>
<div id="indexing" class="section level2" number="12.7">
<h2>
<span class="header-section-number">12.7</span> Indexing<a class="anchor" aria-label="anchor" href="#indexing"><i class="fas fa-link"></i></a>
</h2>
<p>Indexing dfs was introduced <a href="#Indexing-dfs">previously</a>, but will often need to be done throughout a pipe chain. There are two functions to help with this: <code><a href="https://dplyr.tidyverse.org/reference/pull.html">pull()</a></code> and <code><a href="https://purrr.tidyverse.org/reference/pluck.html">pluck()</a></code>.</p>
<div id="pull" class="section level3" number="12.7.1">
<h3>
<span class="header-section-number">12.7.1</span> pull()<a class="anchor" aria-label="anchor" href="#pull"><i class="fas fa-link"></i></a>
</h3>
<p><code><a href="https://dplyr.tidyverse.org/reference/pull.html">pull()</a></code> will extract a variable from a df. This can be done by the variable’s name or its numeric position (using name is always preferred). <code><a href="https://dplyr.tidyverse.org/reference/pull.html">pull()</a></code> is like using the <code>$</code> operator to index.</p>
<div class="sourceCode" id="cb261"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mtcars2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html">pull</a></span><span class="op">(</span><span class="va">cyl</span><span class="op">)</span>
<span class="co">#&gt; [1] 4 4 4 8 6 8 4</span></code></pre></div>
<p>The result is a vector, as variables are just vectors! This is helpful because it allows the result to then be piped to a number of functions that require a vector rather than a df. For example:</p>
<div class="sourceCode" id="cb262"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mtcars2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html">select</a></span><span class="op">(</span><span class="va">cyl</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; Warning in mean.default(.): argument is not numeric or</span>
<span class="co">#&gt; logical: returning NA</span>
<span class="co">#&gt; [1] NA</span>
<span class="va">mtcars2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html">pull</a></span><span class="op">(</span><span class="va">cyl</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; [1] 5.428571</span></code></pre></div>
<p>By using <code><a href="https://dplyr.tidyverse.org/reference/select.html">select()</a></code>, the result is a dataframe with one column. When trying to pass this to <code><a href="https://rdrr.io/r/base/mean.html">mean()</a></code>, you get an <code>NA</code> and an error:</p>
<p style="color:#A79BF0">
<strong>Warning message: In mean.default(.) : argument is not numeric or logical: returning NA.</strong>
</p>
<p>By using <code><a href="https://dplyr.tidyverse.org/reference/pull.html">pull()</a></code>, the result is a vector and can be passed to <code><a href="https://rdrr.io/r/base/mean.html">mean()</a></code> without issue.</p>
<div class="panel panel-success">
<div class="panel-heading">
<strong>EXERCISE 10</strong>
</div>
<div class="panel-body">
<ol style="list-style-type: decimal">
<li>Index the <code>sleep_total</code> variable from <code>msleep2</code>.<br>
</li>
<li>Find the mean of <code>sleep_total</code>.<br>
</li>
<li>Subset the data to only include carnivores, index the <code>bodywt</code> column, and find the average value. Do the same for herbivores. Which has a higher average body weight?
</li>
</ol>
</div>

</div>
</div>
<div id="pluck" class="section level3" number="12.7.2">
<h3>
<span class="header-section-number">12.7.2</span> pluck()<a class="anchor" aria-label="anchor" href="#pluck"><i class="fas fa-link"></i></a>
</h3>
<p><code><a href="https://purrr.tidyverse.org/reference/pluck.html">pluck()</a></code> allows you to index elements from an object, and can also be done by name or numeric position. Above, the <code>cyl</code> column was indexed from <code>mtcars2</code>. Say you wanted the 4th observation from that column:</p>
<div class="sourceCode" id="cb263"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mtcars2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html">pull</a></span><span class="op">(</span><span class="va">cyl</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://purrr.tidyverse.org/reference/pluck.html">pluck</a></span><span class="op">(</span><span class="fl">4</span><span class="op">)</span>
<span class="co">#&gt; [1] 8</span></code></pre></div>
<div class="panel panel-success">
<div class="panel-heading">
<strong>EXERCISE 11</strong>
</div>
<div class="panel-body">
<ol style="list-style-type: decimal">
<li>Subset the data for primates who spend more than 13 hours awake, arrange the <code>awake</code> column from greatest to least, index it, and the 2nd value from the resulting vector.<br>
</li>
<li>Using a process similar to the one above, write some code that will result in the value for the 2nd lowest brain weight for omnivores who spend less than 2 hours in rem.
</li>
</ol>
</div>

</div>
<button class="btn btn-primary" data-toggle="collapse" data-target="#BlockName">
Advanced
</button>
<div id="BlockName" class="collapse">
<p><code><a href="https://purrr.tidyverse.org/reference/pluck.html">pluck()</a></code> is extremely useful for indexing deeply into nested data structures. These will not be covered in this course, but as a brief demonstration you can consider a df to be a nested object. Each vector is an 1st level element and then values within vectors are 2nd level elements. To get the 4th value in the 3rd vector (the previous code string), you would do the following:</p>
<div class="sourceCode" id="cb264"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mtcars2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://purrr.tidyverse.org/reference/pluck.html">pluck</a></span><span class="op">(</span><span class="fl">3</span>,<span class="fl">4</span><span class="op">)</span>
<span class="co">#&gt; [1] 8</span></code></pre></div>
<p>This can also be done with named positions.</p>
<div class="sourceCode" id="cb265"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mtcars2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://purrr.tidyverse.org/reference/pluck.html">pluck</a></span><span class="op">(</span><span class="st">"model"</span>, <span class="fl">2</span><span class="op">)</span>
<span class="co">#&gt; [1] "Porsche 914-2"</span></code></pre></div>
<p>In short, each argument in <code><a href="https://purrr.tidyverse.org/reference/pluck.html">pluck()</a></code> is a position to index. <code>x %&gt;% pluck(2, 2)</code> == <code>x[[2]][[2]]</code></p>
</div>
</div>
</div>
<div id="Unique-Entries" class="section level2" number="12.8">
<h2>
<span class="header-section-number">12.8</span> Unique Entries<a class="anchor" aria-label="anchor" href="#Unique-Entries"><i class="fas fa-link"></i></a>
</h2>
<p>When working with larger dfs, it is difficult to get a sense of the unique values a particular variable may contain. You can get this using <code><a href="https://dplyr.tidyverse.org/reference/distinct.html">distinct()</a></code>.</p>
<div class="sourceCode" id="cb266"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mtcars2</span>
<span class="co">#&gt;            model mpg cyl disp  hp   wt gear</span>
<span class="co">#&gt; 1      Fiat X1-9  27   4   79  66 1.94    4</span>
<span class="co">#&gt; 2  Porsche 914-2  26   4  120  91 2.14    5</span>
<span class="co">#&gt; 3   Lotus Europa  30   4   95 113 1.51    5</span>
<span class="co">#&gt; 4 Ford Pantera L  16   8  351 264 3.17    5</span>
<span class="co">#&gt; 5   Ferrari Dino  20   6  145 175 2.77    5</span>
<span class="co">#&gt; 6  Maserati Bora  15   8  301 335 3.57    5</span>
<span class="co">#&gt; 7     Volvo 142E  21   4  121 109 2.78    4</span>
<span class="va">mtcars2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html">distinct</a></span><span class="op">(</span><span class="va">cyl</span><span class="op">)</span>
<span class="co">#&gt;   cyl</span>
<span class="co">#&gt; 1   4</span>
<span class="co">#&gt; 2   8</span>
<span class="co">#&gt; 3   6</span></code></pre></div>
<p>The way this works is by keeping the row that corresponds with the first entry of a unique value from that particular column. This becomes clear by using the <code>.keep_all</code> argument</p>
<div class="sourceCode" id="cb267"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mtcars2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html">distinct</a></span><span class="op">(</span><span class="va">cyl</span>, .keep_all <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="co">#&gt;            model mpg cyl disp  hp   wt gear</span>
<span class="co">#&gt; 1      Fiat X1-9  27   4   79  66 1.94    4</span>
<span class="co">#&gt; 2 Ford Pantera L  16   8  351 264 3.17    5</span>
<span class="co">#&gt; 3   Ferrari Dino  20   6  145 175 2.77    5</span></code></pre></div>
<p>To get the <em>number</em> of unique values you can use <code><a href="https://dplyr.tidyverse.org/reference/n_distinct.html">n_distinct()</a></code>, which takes a vector of values as input.</p>
<div class="sourceCode" id="cb268"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mtcars2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html">pull</a></span><span class="op">(</span><span class="va">cyl</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/n_distinct.html">n_distinct</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; [1] 3</span></code></pre></div>
<div class="panel panel-success">
<div class="panel-heading">
<strong>EXERCISE 12</strong>
</div>
<div class="panel-body">
Write some code to get:<br>
1. The unique values in the <code>vore</code> column.<br>
2. The <em>number</em> of unique values in the <code>vore</code> column.
</div>
</div>
</div>
<div id="adding-variables" class="section level2" number="12.9">
<h2>
<span class="header-section-number">12.9</span> Adding Variables<a class="anchor" aria-label="anchor" href="#adding-variables"><i class="fas fa-link"></i></a>
</h2>
<p>To add new variables to your dataframe, you use the <code><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate()</a></code> function.</p>
<img src="figures/dplyr_mutate.png" style="width:100.0%"><p style="font-size:6pt">
Artwork by <span class="citation">Horst (2022)</span>
</p>
<p><code><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate()</a></code> takes the form:</p>
<p><code>mutate("new_col_name" = content_for_that_column)</code></p>
<p>The new column’s name will be whatever is passed on the left, its contents will be the result of the R expression assigned to it. For example:</p>
<div class="sourceCode" id="cb269"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mtcars2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>wt_lbs <span class="op">=</span> <span class="va">wt</span> <span class="op">*</span> <span class="fl">1000</span><span class="op">)</span>
<span class="co">#&gt;            model mpg cyl disp  hp   wt gear wt_lbs</span>
<span class="co">#&gt; 1      Fiat X1-9  27   4   79  66 1.94    4   1940</span>
<span class="co">#&gt; 2  Porsche 914-2  26   4  120  91 2.14    5   2140</span>
<span class="co">#&gt; 3   Lotus Europa  30   4   95 113 1.51    5   1510</span>
<span class="co">#&gt; 4 Ford Pantera L  16   8  351 264 3.17    5   3170</span>
<span class="co">#&gt; 5   Ferrari Dino  20   6  145 175 2.77    5   2770</span>
<span class="co">#&gt; 6  Maserati Bora  15   8  301 335 3.57    5   3570</span>
<span class="co">#&gt; 7     Volvo 142E  21   4  121 109 2.78    4   2780</span></code></pre></div>
<div class="rmdimportant">
<p><strong>This creates a new variable showing the weight of each observation (car) in pounds.</strong></p>
</div>
<p>Recall that all variables in a dataframe are each vectors. There are two consequences of this:</p>
<ol style="list-style-type: decimal">
<li>All new variables must be the same length as the existing columns in the dataframe.</li>
<li>The R expression must return a vector, and so computations over vectors can be used!
<ul>
<li>In the example above, <code>wt</code> is a vector. The R expression was a computation over a vector! Each value in the <code>wt</code> vector (column) was multiplied by 1000. This is essentially the same thing as seen in the section where vectors were first <a href="r-coding-basics.html#Vectors">introduced</a>.</li>
</ul>
</li>
</ol>
<p>Multiple new columns can be created simultaneously within the same <code><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate()</a></code> call:</p>
<div class="sourceCode" id="cb270"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">price_of_gas</span> <span class="op">=</span> <span class="fl">6.25</span>

<span class="va">mtcars2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>cost_per_mile <span class="op">=</span> <span class="va">price_of_gas</span> <span class="op">/</span> <span class="va">mpg</span>,
         wt_lbs <span class="op">=</span> <span class="va">wt</span> <span class="op">*</span> <span class="fl">1000</span><span class="op">)</span>
<span class="co">#&gt;            model mpg cyl disp  hp   wt gear cost_per_mile</span>
<span class="co">#&gt; 1      Fiat X1-9  27   4   79  66 1.94    4     0.2314815</span>
<span class="co">#&gt; 2  Porsche 914-2  26   4  120  91 2.14    5     0.2403846</span>
<span class="co">#&gt; 3   Lotus Europa  30   4   95 113 1.51    5     0.2083333</span>
<span class="co">#&gt; 4 Ford Pantera L  16   8  351 264 3.17    5     0.3906250</span>
<span class="co">#&gt; 5   Ferrari Dino  20   6  145 175 2.77    5     0.3125000</span>
<span class="co">#&gt; 6  Maserati Bora  15   8  301 335 3.57    5     0.4166667</span>
<span class="co">#&gt; 7     Volvo 142E  21   4  121 109 2.78    4     0.2976190</span>
<span class="co">#&gt;   wt_lbs</span>
<span class="co">#&gt; 1   1940</span>
<span class="co">#&gt; 2   2140</span>
<span class="co">#&gt; 3   1510</span>
<span class="co">#&gt; 4   3170</span>
<span class="co">#&gt; 5   2770</span>
<span class="co">#&gt; 6   3570</span>
<span class="co">#&gt; 7   2780</span></code></pre></div>
<div class="rmdimportant">
<p><strong>In addition to the weight in pounds variable, this code also creates a variable showing the cost of traveling 1 mile for each observation (car) considering the current price of gas.</strong></p>
</div>
<div class="panel panel-success">
<div class="panel-heading">
<strong>EXERCISE 13</strong>
</div>
<div class="panel-body">
<ol style="list-style-type: decimal">
<li>The sleep variables are all measured in hours. Create a new variable called <code>sleep_total_m</code> that measures total <strong>minutes</strong> of sleep.<br>
</li>
<li>Create a new variable that represents the proportion of total sleep spent in rem, move that column to come after <code>sleep_rem</code>, filter to show only observations with a ratio of 0.25 or greater, arrange the new column from greatest to least, and index the <code>bodywt</code> of the animal with the highest ratio.
</li>
</ol>
</div>

</div>
<div id="conditional-values" class="section level3" number="12.9.1">
<h3>
<span class="header-section-number">12.9.1</span> Conditional Values<a class="anchor" aria-label="anchor" href="#conditional-values"><i class="fas fa-link"></i></a>
</h3>
<p>You may want a variable to have a value based on some different conditions. <code><a href="https://dplyr.tidyverse.org/reference/case_when.html">case_when()</a></code> was <a href="control-flow.html#case_when">introduced</a> as a way to string together a number of ifelse type statements and return some values. This can be extremely useful when creating new variables!</p>
<!-- [case_when()] -->
<img src="figures/dplyr_case_when.png" style="width:100.0%"><p style="font-size:6pt">
Artwork by <span class="citation">Horst (2022)</span>
</p>
<div class="sourceCode" id="cb271"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mtcars2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>fuel_efficiency <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html">case_when</a></span><span class="op">(</span>
    <span class="va">mpg</span> <span class="op">&lt;=</span> <span class="fl">19</span> <span class="op">~</span> <span class="st">"Poor"</span>,
    <span class="va">mpg</span> <span class="op">&gt;=</span> <span class="fl">20</span> <span class="op">&amp;</span> <span class="va">mpg</span> <span class="op">&lt;=</span> <span class="fl">25</span> <span class="op">~</span> <span class="st">"Average"</span>,
    <span class="cn">TRUE</span> <span class="op">~</span> <span class="st">"Great"</span>
  <span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;            model mpg cyl disp  hp   wt gear fuel_efficiency</span>
<span class="co">#&gt; 1      Fiat X1-9  27   4   79  66 1.94    4           Great</span>
<span class="co">#&gt; 2  Porsche 914-2  26   4  120  91 2.14    5           Great</span>
<span class="co">#&gt; 3   Lotus Europa  30   4   95 113 1.51    5           Great</span>
<span class="co">#&gt; 4 Ford Pantera L  16   8  351 264 3.17    5            Poor</span>
<span class="co">#&gt; 5   Ferrari Dino  20   6  145 175 2.77    5         Average</span>
<span class="co">#&gt; 6  Maserati Bora  15   8  301 335 3.57    5            Poor</span>
<span class="co">#&gt; 7     Volvo 142E  21   4  121 109 2.78    4         Average</span></code></pre></div>
<div class="rmdimportant">
<p><strong>This creates a new variable called <code>fuel_efficiency</code>. Each observation’s value for this variable depends on its value for <code>mpg</code>, and differs based on different conditions.</strong></p>
</div>
<p>In more simple instances, <a href="control-flow.html#ifelse">ifelse()</a> can be used:</p>
<div class="sourceCode" id="cb272"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mtcars2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>power <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html">ifelse</a></span><span class="op">(</span><span class="va">hp</span> <span class="op">&gt;=</span><span class="fl">200</span>, <span class="st">"High"</span>, <span class="st">"Low"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;            model mpg cyl disp  hp   wt gear power</span>
<span class="co">#&gt; 1      Fiat X1-9  27   4   79  66 1.94    4   Low</span>
<span class="co">#&gt; 2  Porsche 914-2  26   4  120  91 2.14    5   Low</span>
<span class="co">#&gt; 3   Lotus Europa  30   4   95 113 1.51    5   Low</span>
<span class="co">#&gt; 4 Ford Pantera L  16   8  351 264 3.17    5  High</span>
<span class="co">#&gt; 5   Ferrari Dino  20   6  145 175 2.77    5   Low</span>
<span class="co">#&gt; 6  Maserati Bora  15   8  301 335 3.57    5  High</span>
<span class="co">#&gt; 7     Volvo 142E  21   4  121 109 2.78    4   Low</span></code></pre></div>
<div class="rmdimportant">
<p><strong>This creates a new variable called <code>power</code>. Each observation’s value for this variable depends on its value for <code>hp</code>. If <code>hp</code> is greater than 200, it is “High” powered, if lower than 200 then “Low” powered.</strong></p>
</div>
<div class="panel panel-success">
<div class="panel-heading">
<strong>EXERCISE 14</strong>
</div>
<div class="panel-body">
<ol style="list-style-type: decimal">
<li>Find out what the average total sleep is for all animals, then use <code><a href="https://dplyr.tidyverse.org/reference/case_when.html">case_when()</a></code> to create a new column that has the value “sleepyhead” if the animal has a <code>sleep_total</code> higher than average, “wide-awake” if lower than average, and “average” if exactly average.<br>
</li>
<li>Use <code><a href="https://rdrr.io/r/base/ifelse.html">ifelse()</a></code> to create a new column just indicating whether the animal had a “higher” or “lower” <code>sleep_total</code> than average.
</li>
</ol>
</div>

</div>
</div>
<div id="position" class="section level3" number="12.9.2">
<h3>
<span class="header-section-number">12.9.2</span> Position<a class="anchor" aria-label="anchor" href="#position"><i class="fas fa-link"></i></a>
</h3>
<p>By default <code><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate()</a></code> adds the new variable(s) to the end of the dataframe. However, you can specify what existing column you want the new column to appear <code>.before</code> or <code>.after</code>.</p>
<div class="sourceCode" id="cb273"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">price_of_gas</span> <span class="op">=</span> <span class="fl">6.25</span>

<span class="va">mtcars2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>cost_per_mile <span class="op">=</span> <span class="va">price_of_gas</span> <span class="op">/</span> <span class="va">mpg</span>, .after <span class="op">=</span> <span class="st">"mpg"</span><span class="op">)</span>
<span class="co">#&gt;            model mpg cost_per_mile cyl disp  hp   wt gear</span>
<span class="co">#&gt; 1      Fiat X1-9  27     0.2314815   4   79  66 1.94    4</span>
<span class="co">#&gt; 2  Porsche 914-2  26     0.2403846   4  120  91 2.14    5</span>
<span class="co">#&gt; 3   Lotus Europa  30     0.2083333   4   95 113 1.51    5</span>
<span class="co">#&gt; 4 Ford Pantera L  16     0.3906250   8  351 264 3.17    5</span>
<span class="co">#&gt; 5   Ferrari Dino  20     0.3125000   6  145 175 2.77    5</span>
<span class="co">#&gt; 6  Maserati Bora  15     0.4166667   8  301 335 3.57    5</span>
<span class="co">#&gt; 7     Volvo 142E  21     0.2976190   4  121 109 2.78    4</span></code></pre></div>
<div class="rmdimportant">
<p><strong>This specifies that the new <code>cost_per_mile</code> variable should be created after <code>mpg</code>.</strong></p>
</div>
<p class="text-info">
<strong><u>Note:</u> The <code>.before</code> and <code>.after</code> specifications apply to ALL new variables created by the particular <code><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate()</a></code> call. If you want to create multiple new variables and have them added in different places in your dataframe, you will need to separate them into different <code><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate()</a></code> calls.</strong>
</p>
</div>
<div id="NAs" class="section level3" number="12.9.3">
<h3>
<span class="header-section-number">12.9.3</span> NAs<a class="anchor" aria-label="anchor" href="#NAs"><i class="fas fa-link"></i></a>
</h3>
<p>When performing vector computations, you have to be mindful of <code>NA</code> values in your data. <code>NA</code> values can cause major issues. For example:</p>
<div class="sourceCode" id="cb274"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fl">4</span> <span class="op">+</span> <span class="cn">NA</span> <span class="op">+</span> <span class="fl">2</span>
<span class="co">#&gt; [1] NA</span>
<span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">4</span>,<span class="fl">5</span>,<span class="fl">3</span>,<span class="cn">NA</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] NA</span></code></pre></div>
<p>As you can see, any time you have <code>NA</code> as part of your computation, the results are <code>NA</code>. It is because of this that NAs are thought to be <strong>contagious</strong>. In these instances, you get around this by utilizing functions like <code><a href="https://rdrr.io/r/stats/na.fail.html">na.omit()</a></code>, <code><a href="https://tidyr.tidyverse.org/reference/drop_na.html">drop_na()</a></code>, or the <code>na.rm</code> argument set to <code>TRUE</code>.</p>
<p><code><a href="https://rdrr.io/r/stats/na.fail.html">na.omit()</a></code> will remove all NAs. When used on a dataframe, this will remove an entire row of data if it has an <code>NA</code> value for <strong><em>any</em></strong> column.</p>
<p><code><a href="https://tidyr.tidyverse.org/reference/drop_na.html">drop_na()</a></code> is used specifically for dataframes, and will remove an entire row of data if it has an <code>NA</code> value for <strong><em>specific</em></strong> column(s) that you select. If you do not pass any specific columns, it will function similarly to <code><a href="https://rdrr.io/r/stats/na.fail.html">na.omit()</a></code> and remove an entire row if it as an <code>NA</code> value for <strong><em>any</em></strong> column.</p>
<div class="sourceCode" id="cb275"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">4</span>, <span class="fl">5</span>, <span class="fl">3</span>, <span class="cn">NA</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://rdrr.io/r/stats/na.fail.html">na.omit</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; [1] 4</span>
<span class="fu"><a href="https://rdrr.io/r/base/mean.html">mean</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">4</span>,<span class="fl">5</span>,<span class="fl">3</span>,<span class="cn">NA</span><span class="op">)</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="co">#&gt; [1] 4</span></code></pre></div>
<div class="sourceCode" id="cb276"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">ex_df</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>A <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="fl">1</span>, <span class="fl">4</span><span class="op">)</span>, 
           B <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="cn">NA</span>, <span class="fl">4</span><span class="op">)</span>, 
           C <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">4</span>,<span class="fl">5</span><span class="op">)</span><span class="op">)</span>
<span class="va">ex_df</span>
<span class="co">#&gt;    A  B C</span>
<span class="co">#&gt; 1 NA  1 1</span>
<span class="co">#&gt; 2  1 NA 4</span>
<span class="co">#&gt; 3  4  4 5</span>
<span class="va">ex_df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://rdrr.io/r/stats/na.fail.html">na.omit</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt;   A B C</span>
<span class="co">#&gt; 3 4 4 5</span>
<span class="va">ex_df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/drop_na.html">drop_na</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt;   A B C</span>
<span class="co">#&gt; 1 4 4 5</span>
<span class="va">ex_df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/drop_na.html">drop_na</a></span><span class="op">(</span><span class="va">A</span><span class="op">)</span>
<span class="co">#&gt;   A  B C</span>
<span class="co">#&gt; 1 1 NA 4</span>
<span class="co">#&gt; 2 4  4 5</span></code></pre></div>
<div class="panel panel-success">
<div class="panel-heading">
<strong>EXERCISE 15</strong>
</div>
<div class="panel-body">
<ol style="list-style-type: decimal">
<li>Use <code><a href="https://tidyr.tidyverse.org/reference/drop_na.html">drop_na()</a></code> to remove all observations with an <code>NA</code>.<br>
</li>
<li>Only get rid of observations with an <code>NA</code> for <code>brainwt</code>.
</li>
</ol>
</div>

</div>
</div>
</div>
<div id="Modifying-Existing-Variables" class="section level2" number="12.10">
<h2>
<span class="header-section-number">12.10</span> Modifying Existing Variables<a class="anchor" aria-label="anchor" href="#Modifying-Existing-Variables"><i class="fas fa-link"></i></a>
</h2>
<p><code><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate()</a></code> can also be used to modify existing variables! This is done by passing a column name that already exists in the dataframe. For example:</p>
<div class="sourceCode" id="cb277"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mtcars2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>wt <span class="op">=</span> <span class="va">wt</span> <span class="op">*</span> <span class="fl">1000</span><span class="op">)</span>
<span class="co">#&gt;            model mpg cyl disp  hp   wt gear</span>
<span class="co">#&gt; 1      Fiat X1-9  27   4   79  66 1940    4</span>
<span class="co">#&gt; 2  Porsche 914-2  26   4  120  91 2140    5</span>
<span class="co">#&gt; 3   Lotus Europa  30   4   95 113 1510    5</span>
<span class="co">#&gt; 4 Ford Pantera L  16   8  351 264 3170    5</span>
<span class="co">#&gt; 5   Ferrari Dino  20   6  145 175 2770    5</span>
<span class="co">#&gt; 6  Maserati Bora  15   8  301 335 3570    5</span>
<span class="co">#&gt; 7     Volvo 142E  21   4  121 109 2780    4</span></code></pre></div>
<p>By tweaking the code above, instead of creating a new one, the existing <code>wt</code> variable is modified.</p>
<p class="text-info">
<strong><u>Note:</u> You will generally not want to overwrite a variable if you are changing it in some meaningful way (as is the case in the example above). Instead, you should create a new variable.</strong>
</p>
<div id="change-variable-types" class="section level3" number="12.10.1">
<h3>
<span class="header-section-number">12.10.1</span> Change Variable Types<a class="anchor" aria-label="anchor" href="#change-variable-types"><i class="fas fa-link"></i></a>
</h3>
<p>One of the ways in which it <em>is</em> appropriate to modify a variable is when you need to change the <em>type</em> of data it contains. In R, you can change data type by using the <code>as.*</code> function. For example, <code><a href="https://rdrr.io/r/base/logical.html">as.logical()</a></code> changes the passed values to be <em>logical.</em> The one exception is that when changing something to a <em>factor</em>, you should use <code><a href="https://rdrr.io/r/base/factor.html">factor()</a></code> (more on this below.)</p>
<div class="sourceCode" id="cb278"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mtcars2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>mpg <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="va">mpg</span><span class="op">)</span>,
         cyl <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">cyl</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://tibble.tidyverse.org/reference/glimpse.html">glimpse</a></span><span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; Rows: 7</span>
<span class="co">#&gt; Columns: 7</span>
<span class="co">#&gt; $ model &lt;chr&gt; "Fiat X1-9", "Porsche 914-2", "Lotus Europa"…</span>
<span class="co">#&gt; $ mpg   &lt;chr&gt; "27", "26", "30", "16", "20", "15", "21"</span>
<span class="co">#&gt; $ cyl   &lt;fct&gt; 4, 4, 4, 8, 6, 8, 4</span>
<span class="co">#&gt; $ disp  &lt;dbl&gt; 79, 120, 95, 351, 145, 301, 121</span>
<span class="co">#&gt; $ hp    &lt;dbl&gt; 66, 91, 113, 264, 175, 335, 109</span>
<span class="co">#&gt; $ wt    &lt;dbl&gt; 1.94, 2.14, 1.51, 3.17, 2.77, 3.57, 2.78</span>
<span class="co">#&gt; $ gear  &lt;dbl&gt; 4, 5, 5, 5, 5, 5, 4</span></code></pre></div>
<div class="rmdimportant">
<p><strong>This modifies the data in the <code>mpg</code> column to be of <em>character</em>, and the data in the <code>cyl</code> column to be a factor. The output of this is then piped to <code><a href="https://tibble.tidyverse.org/reference/glimpse.html">glimpse()</a></code> so the types of each column will be displayed.</strong></p>
</div>
<p>You can see from this output that all the numbers in <code>mpg</code> have quotes around them. Also, it is labeled “<chr>” and not “<dbl>” While the raw data for <code>cyl</code> look unchanged, you can see it now says “<fct>”</fct></dbl></chr></p>
<div class="panel panel-success">
<div class="panel-heading">
<strong>EXERCISE 16</strong>
</div>
<div class="panel-body">
<ol style="list-style-type: decimal">
<li>As mentioned above, the weight columns are measured in kg. Change these columns so that they contain the weight in lbs (1kg = ~2.205 lbs). Arrange the new body weight column from least to greatest, and index the value for the lightest animal in the dataset.<br>
</li>
<li>Change the <code>vore</code> column to be a <em>factor</em> instead of <em>character</em>, and the <code>awake</code> column to be a <em>character</em> instead of <em>numeric</em>.
</li>
</ol>
</div>

</div>
</div>
<div id="factors" class="section level3" number="12.10.2">
<h3>
<span class="header-section-number">12.10.2</span> Factors<a class="anchor" aria-label="anchor" href="#factors"><i class="fas fa-link"></i></a>
</h3>
<p>Factors are important, and can be a little tricky to work with, so they get their own section. Factors are categorical data that have a specific order, and by proxy a specific defined range of possible values (e.g., Months of the year).</p>
<div id="factor-conversion" class="section level4" number="12.10.2.1">
<h4>
<span class="header-section-number">12.10.2.1</span> Factor Conversion<a class="anchor" aria-label="anchor" href="#factor-conversion"><i class="fas fa-link"></i></a>
</h4>
<p>When working with factors, particularly when converting data to and from a factor, you have to be very careful. Consider the following:</p>
<div class="sourceCode" id="cb279"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>test <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"0"</span>, <span class="st">"1"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;   test</span>
<span class="co">#&gt; 1    0</span>
<span class="co">#&gt; 2    1</span></code></pre></div>
<p>This simple dataframe that has one column with data as a factor with the values 0 and 1. Say you want to change that data from a factor to numeric. Simple enough, just apply the appropriate <code>as.*</code> function (<code><a href="https://rdrr.io/r/base/numeric.html">as.numeric()</a></code>).</p>
<p>However, observe the output from doing so:</p>
<div class="sourceCode" id="cb280"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>test <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"0"</span>, <span class="st">"1"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>test <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">test</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;   test</span>
<span class="co">#&gt; 1    1</span>
<span class="co">#&gt; 2    2</span></code></pre></div>
<p>This is obviously not what was intended. What is happening here is <code><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate()</a></code> is taking the <em>level</em> of each value, with <code>0</code> being level 1 and <code>1</code> being level 2. Instead, you have to circumvent this issue by first converting the values to a <em>character</em>, and then a <em>number</em>:</p>
<div class="sourceCode" id="cb281"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>test <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"0"</span>, <span class="st">"1"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>test <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/character.html">as.character</a></span><span class="op">(</span><span class="va">test</span><span class="op">)</span>,
         test <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">test</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;   test</span>
<span class="co">#&gt; 1    0</span>
<span class="co">#&gt; 2    1</span></code></pre></div>
<p>The take-home point is to always double check that your code is doing what you intend it to, especially when converting to and from a <em>factor</em>!</p>
</div>
<div id="reorder-levels" class="section level4" number="12.10.2.2">
<h4>
<span class="header-section-number">12.10.2.2</span> Reorder Levels<a class="anchor" aria-label="anchor" href="#reorder-levels"><i class="fas fa-link"></i></a>
</h4>
<p>While the levels of a <em>factor</em> are ordered, you may at times want to change what that order is. One of the more common instances when this will occur is in visualizations. Consider the following:</p>
<div class="sourceCode" id="cb282"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mtcars2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>cyl <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">cyl</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">cyl</span>, fill <span class="op">=</span> <span class="va">cyl</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span>position <span class="op">=</span> <span class="st">"identity"</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="Manip2_files/figure-html/unnamed-chunk-54-1.png" width="672"></div>
<p>The x-axis has a sensible arrangement, but this 1. is a function of the fact that the factors happen to be numbers, 2. is not particularly aesthetically pleasing when looking at the actual bars. The bars themselves have an inherent ordering and it may make more sense to organize them as such. This can be accomplished using <code><a href="https://forcats.tidyverse.org/reference/fct_inorder.html">fct_infreq()</a></code>, which will reorder the levels of a factor <strong>in</strong> their <strong>freq</strong>uency of occurrence (with highest frequency first).</p>
<div class="sourceCode" id="cb283"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mtcars2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>cyl <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">cyl</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
           <span class="fu"><a href="https://forcats.tidyverse.org/reference/fct_inorder.html">fct_infreq</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">cyl</span>, fill <span class="op">=</span> <span class="va">cyl</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span>position <span class="op">=</span> <span class="st">"identity"</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="Manip2_files/figure-html/unnamed-chunk-55-1.png" width="672"></div>
<p>To order the levels with lowest frequency first, you can use <code><a href="https://forcats.tidyverse.org/reference/fct_rev.html">fct_rev()</a></code> for “<strong>rev</strong>erse <strong>freq</strong>uency.”</p>
<div class="sourceCode" id="cb284"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mtcars2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>cyl <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">cyl</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
           <span class="fu"><a href="https://forcats.tidyverse.org/reference/fct_inorder.html">fct_infreq</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
           <span class="fu"><a href="https://forcats.tidyverse.org/reference/fct_rev.html">fct_rev</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">cyl</span>, fill <span class="op">=</span> <span class="va">cyl</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
    <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_bar.html">geom_bar</a></span><span class="op">(</span>position <span class="op">=</span> <span class="st">"identity"</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="Manip2_files/figure-html/unnamed-chunk-56-1.png" width="672"></div>
<p class="text-info">
<strong><u>Note:</u> Notice that the color mapping is changing as well. In the bottom graph, the blue bar is on the 4 cylinder bar, whereas on the preceding graph it was on the 6 cylinder bar. This is because color mappings correspond to factor levels!</strong>
</p>
<p>Most of the time you will not be creating graphs to visualize counts of a single variable. Instead, you will be visualizing the relationship or comparison between two more more variables, like in the graph below:</p>
<div class="sourceCode" id="cb285"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mtcars2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>cyl <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">cyl</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">mpg</span>, x <span class="op">=</span> <span class="va">cyl</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/stat_summary.html">stat_summary</a></span><span class="op">(</span>fun.data <span class="op">=</span> <span class="st">"mean_se"</span>, geom <span class="op">=</span> <span class="st">"pointrange"</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="Manip2_files/figure-html/unnamed-chunk-57-1.png" width="672"></div>
<p>To reorder the levels of a factor by their relationship with another variable (instead of frequency of occurrence), you can use <code><a href="https://forcats.tidyverse.org/reference/fct_reorder.html">fct_reorder()</a></code>. In <code><a href="https://forcats.tidyverse.org/reference/fct_reorder.html">fct_reorder()</a></code>, you must specify the factor to reorder, and the other variable you wish to reorder the levels by.</p>
<div class="sourceCode" id="cb286"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mtcars2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html">mutate</a></span><span class="op">(</span>cyl <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">factor</a></span><span class="op">(</span><span class="va">cyl</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html">%&gt;%</a></span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html">ggplot</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html">aes</a></span><span class="op">(</span>y <span class="op">=</span> <span class="va">mpg</span>, x <span class="op">=</span> <span class="fu"><a href="https://forcats.tidyverse.org/reference/fct_reorder.html">fct_reorder</a></span><span class="op">(</span><span class="va">cyl</span>, <span class="va">mpg</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/stat_summary.html">stat_summary</a></span><span class="op">(</span>fun.data <span class="op">=</span> <span class="st">"mean_se"</span>, geom <span class="op">=</span> <span class="st">"pointrange"</span><span class="op">)</span></code></pre></div>
<div class="inline-figure"><img src="Manip2_files/figure-html/unnamed-chunk-58-1.png" width="672"></div>
<p class="text-info">
<strong><u>Note:</u> <code><a href="https://forcats.tidyverse.org/reference/fct_reorder.html">fct_reorder()</a></code> was used in the ggplot call directly because this is a fairly particular reordering. It is unlikely that, outside of for the purpose of generating this specific visualization, you would want the levels of <code>cyl</code> to be ordered based on its level of <code>mpg</code>.<br><br>Also, you can combine <code><a href="https://forcats.tidyverse.org/reference/fct_reorder.html">fct_reorder()</a></code> with <code><a href="https://forcats.tidyverse.org/reference/fct_rev.html">fct_rev()</a></code> to reverse the order of the levels.</strong>
</p>
<div class="panel panel-success">
<div class="panel-heading">
<strong>EXERCISE 17</strong>
</div>
<div class="panel-body">
Take 3-4 visualizations you created in the exercises from the data visualization lectures and reorder the factor levels so they are in a more sensible order.
</div>
</div>
<!-- Another type of reordering is useful when you are colouring the lines on a plot. fct_reorder2() reorders the factor by the y values associated with the largest x values. This makes the plot easier to read because the line colours line up with the legend. -->
<!-- The advantage to using `factor()` over `as.factor()` is that `factor()` includes extra helpful arguments. The two most important are: -->
<!-- 1. *levels* - allows you to set the level order of that factor by passing it a vector of the values in the preferred order. -->
<!-- 2. *labels* - allows you to change the labels of the values. -->
</div>
</div>
</div>
<div id="extras-1" class="section level2" number="12.11">
<h2>
<span class="header-section-number">12.11</span> Extras<a class="anchor" aria-label="anchor" href="#extras-1"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li><a href="https://github.com/rstudio/cheatsheets/blob/main/factors.pdf">Factors cheatsheet</a></li>
</ul>
</div>
<div id="references-3" class="section level2" number="12.12">
<h2>
<span class="header-section-number">12.12</span> References<a class="anchor" aria-label="anchor" href="#references-3"><i class="fas fa-link"></i></a>
</h2>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="tidy-data-and-tidyverse.html"><span class="header-section-number">11</span> Tidy Data and Tidyverse</a></div>
<div class="next"><a href="advanced-wrangling.html"><span class="header-section-number">13</span> Advanced Wrangling</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#basic-wrangling"><span class="header-section-number">12</span> Basic Wrangling</a></li>
<li><a class="nav-link" href="#arrange"><span class="header-section-number">12.1</span> Arrange</a></li>
<li>
<a class="nav-link" href="#rename"><span class="header-section-number">12.2</span> Rename</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#saving-changes"><span class="header-section-number">12.2.1</span> Saving Changes</a></li></ul>
</li>
<li><a class="nav-link" href="#clean-names"><span class="header-section-number">12.3</span> Clean Names</a></li>
<li><a class="nav-link" href="#relocate"><span class="header-section-number">12.4</span> Relocate</a></li>
<li><a class="nav-link" href="#select"><span class="header-section-number">12.5</span> Select</a></li>
<li>
<a class="nav-link" href="#filter"><span class="header-section-number">12.6</span> Filter</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#in"><span class="header-section-number">12.6.1</span> %in%</a></li>
<li><a class="nav-link" href="#pattern-matching"><span class="header-section-number">12.6.2</span> Pattern Matching</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#indexing"><span class="header-section-number">12.7</span> Indexing</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#pull"><span class="header-section-number">12.7.1</span> pull()</a></li>
<li><a class="nav-link" href="#pluck"><span class="header-section-number">12.7.2</span> pluck()</a></li>
</ul>
</li>
<li><a class="nav-link" href="#Unique-Entries"><span class="header-section-number">12.8</span> Unique Entries</a></li>
<li>
<a class="nav-link" href="#adding-variables"><span class="header-section-number">12.9</span> Adding Variables</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#conditional-values"><span class="header-section-number">12.9.1</span> Conditional Values</a></li>
<li><a class="nav-link" href="#position"><span class="header-section-number">12.9.2</span> Position</a></li>
<li><a class="nav-link" href="#NAs"><span class="header-section-number">12.9.3</span> NAs</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#Modifying-Existing-Variables"><span class="header-section-number">12.10</span> Modifying Existing Variables</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#change-variable-types"><span class="header-section-number">12.10.1</span> Change Variable Types</a></li>
<li><a class="nav-link" href="#factors"><span class="header-section-number">12.10.2</span> Factors</a></li>
</ul>
</li>
<li><a class="nav-link" href="#extras-1"><span class="header-section-number">12.11</span> Extras</a></li>
<li><a class="nav-link" href="#references-3"><span class="header-section-number">12.12</span> References</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>PSYC193L</strong>" was written by Ethan Hurwitz. It was last built on 2022-06-26.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
